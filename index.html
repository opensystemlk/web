<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SYSTEM.LK - Advanced Technology Solutions</title>
    
    <!-- Add Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    
    <style>
        /* ====== ALL YOUR EXISTING CSS STYLES REMAIN THE SAME ====== */
        /* ... (All your existing CSS styles remain unchanged) ... */
        
        /* Add loading indicator for Firebase operations */
        .firebase-loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 14, 23, 0.95);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100000;
        }
        
        .firebase-loading.show {
            display: flex;
        }
        
        .firebase-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(200, 255, 0, 0.3);
            border-top: 4px solid #c8ff00;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        .firebase-loading-text {
            color: #c8ff00;
            margin-top: 20px;
            font-size: 14px;
            letter-spacing: 2px;
        }
    </style>
</head>
<body>
    <!-- Firebase Loading Indicator -->
    <div class="firebase-loading" id="firebaseLoading">
        <div class="firebase-spinner"></div>
        <div class="firebase-loading-text" id="firebaseLoadingText">Connecting to SYSTEM.LK...</div>
    </div>

    <!-- Page Loading Animation -->
    <div class="page-loader" id="pageLoader">
        <div class="loader-content">
            <div class="loader-logo">SYSTEM.LK</div>
            <div class="loader-spinner"></div>
            <div class="loader-text">Loading Advanced Technology Solutions...</div>
        </div>
    </div>

    <!-- Network Animation Canvas -->
    <canvas id="networkCanvas"></canvas>

    <!-- Auth Modal -->
    <div id="authModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="auth-tabs">
                <button class="auth-tab active" data-tab="login">Login</button>
                <button class="auth-tab" data-tab="register">Create Account</button>
            </div>
            
            <form id="loginForm" class="auth-form active">
                <h3>Login to SYSTEM.LK</h3>
                <div class="form-group">
                    <input type="email" id="loginEmail" placeholder="Email" required>
                </div>
                <div class="form-group">
                    <input type="password" id="loginPassword" placeholder="Password" required>
                </div>
                <button type="submit" class="submit-btn">Login</button>
                <div id="loginError" style="color: #ff4444; margin-top: 15px; display: none;"></div>
                <p style="margin-top: 20px; color: #a0a0a0; text-align: center; font-size: 14px;">
                    Don't have an account? <a href="#" onClick="switchAuthTab('register')" style="color: #c8ff00;">Create one</a>
                </p>
            </form>
            
            <form id="registerForm" class="auth-form">
                <h3>Create Account</h3>
                <div class="form-group">
                    <input type="text" id="regUsername" placeholder="Username" required>
                </div>
                <div class="form-group">
                    <input type="email" id="regEmail" placeholder="Email" required>
                </div>
                <div class="form-group">
                    <input type="password" id="regPassword" placeholder="Password" required>
                </div>
                <div class="form-group">
                    <input type="password" id="regConfirmPassword" placeholder="Confirm Password" required>
                </div>
                <button type="submit" class="submit-btn">Create Account</button>
                <div id="registerError" style="color: #ff4444; margin-top: 15px; display: none;"></div>
                <p style="margin-top: 20px; color: #a0a0a0; text-align: center; font-size: 14px;">
                    Already have an account? <a href="#" onClick="switchAuthTab('login')" style="color: #c8ff00;">Login</a>
                </p>
            </form>
        </div>
    </div>

    <!-- Admin Dashboard Modal -->
    <div id="adminModal" class="modal">
        <div class="modal-content admin-modal">
            <span class="close-modal">&times;</span>
            <h2>Admin Dashboard</h2>
            
            <div class="admin-tabs">
                <button class="admin-tab active" data-tab="users">Manage Users</button>
                <button class="admin-tab" data-tab="messages">All Messages</button>
                <button class="admin-tab" data-tab="chatManagement">Live Chat Management</button>
                <button class="admin-tab" data-tab="announcements">üì¢ Announcements</button>
                <button class="admin-tab" data-tab="stats">Statistics</button>
                <button class="admin-tab" data-tab="settings">Settings</button>
            </div>
            
            <div id="usersTab" class="admin-tab-content active">
                <div class="admin-header">
                    <h3>User Management</h3>
                    <button class="btn-primary" onClick="showAddUserForm()">Add New User</button>
                </div>
                <div id="usersList" class="users-list"></div>
            </div>
            
            <div id="messagesTab" class="admin-tab-content">
                <div class="admin-header">
                    <h3>All Messages</h3>
                    <div style="display: flex; gap: 15px;">
                        <button class="btn-primary" onClick="refreshAllMessages()">Refresh</button>
                        <button class="danger-btn" onClick="deleteAllMessages()">Delete All Messages</button>
                    </div>
                </div>
                <div id="allMessagesList" class="messages-list"></div>
            </div>
            
            <div id="chatManagementTab" class="admin-tab-content">
                <div class="admin-header">
                    <h3>Live Chat Management</h3>
                    <button class="btn-primary" onClick="refreshChatSessions()">Refresh Chats</button>
                </div>
                <div id="chatsList" class="chats-list">
                    <!-- Chat sessions will be loaded here -->
                </div>
            </div>
            
            <div id="announcementsTab" class="admin-tab-content">
                <div class="admin-header">
                    <h3>Announcements Management</h3>
                    <button class="btn-primary" onClick="showAddAnnouncementForm()">Add New Announcement</button>
                </div>
                <div id="announcementsList" class="messages-list"></div>
            </div>
            
            <div id="statsTab" class="admin-tab-content">
                <h3>System Statistics</h3>
                <div class="stats-grid" id="adminStats"></div>
            </div>
            
            <div id="settingsTab" class="admin-tab-content">
                <h3>Admin Settings</h3>
                <div class="add-user-form">
                    <h4>Change Admin Password</h4>
                    <div class="form-group">
                        <label>Current Password</label>
                        <input type="password" id="currentPassword" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label>New Password</label>
                        <input type="password" id="newAdminPassword" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label>Confirm New Password</label>
                        <input type="password" id="confirmAdminPassword" class="form-control" required>
                    </div>
                    <div class="form-actions">
                        <button onClick="changeAdminPassword()" class="btn-primary">Change Password</button>
                        <button onClick="switchAdminTab('users')" class="btn-secondary">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Live Chat Button -->
    <button class="live-chat-btn pulse" id="liveChatBtn" onClick="toggleLiveChat()">
        üí¨
        <span class="live-chat-badge" id="chatNotification" style="display: none;">0</span>
    </button>

    <!-- Live Chat Modal -->
    <div class="live-chat-modal" id="liveChatModal">
        <div class="chat-header">
            <div>
                <h3>üí¨ Live Chat Support</h3>
                <div class="chat-user-info" id="chatUserInfo">
                    <!-- User info will appear here -->
                </div>
            </div>
            <span class="chat-status" id="chatStatus">Online</span>
            <button class="chat-close" onClick="closeLiveChat()" style="background: none; border: none; color: #ff4444; cursor: pointer; font-size: 18px; margin-left: 10px;">‚úï</button>
        </div>
        <div class="chat-body" id="chatBody">
            <!-- Chat messages will appear here -->
        </div>
        <div class="chat-input">
            <input type="text" id="chatInput" placeholder="Type your message..." onKeyPress="handleChatKeyPress(event)">
            <button id="sendChatBtn" onClick="sendChatMessage()">‚û§</button>
        </div>
    </div>

    <!-- Navigation -->
    <nav id="navbar">
        <div class="logo" onClick="scrollToTop()">SYSTEM.LK</div>
        <ul class="nav-links" id="navLinks">
            <!-- HOME removed as requested -->
            <li id="featuresNavItem" class="has-dropdown" style="display: none;">
                <a href="#features">Features</a>
                <ul class="dropdown-menu">
                    <li><a href="#features">Fast Delivery</a></li>
                    <li><a href="#features">Precision & Quality</a></li>
                    <li><a href="#features">Innovation First</a></li>
                    <li><a href="#features">Secure & Reliable</a></li>
                    <li><a href="#features">Cost Effective</a></li>
                    <li><a href="#features">24/7 Support</a></li>
                </ul>
            </li>
            <li id="servicesNavItem" class="has-dropdown" style="display: none;">
                <a href="#services">Services</a>
                <ul class="dropdown-menu">
                    <li><a href="#services">Software Development</a></li>
                    <li><a href="#services">Cloud Solutions</a></li>
                    <li><a href="#services">Cybersecurity</a></li>
                    <li><a href="#services">AI & Machine Learning</a></li>
                    <li><a href="#services">Data Analytics</a></li>
                    <li><a href="#services">UI/UX Design</a></li>
                </ul>
            </li>
            <li id="productsNavItem" class="has-dropdown" style="display: none;">
                <a href="#products">Products</a>
                <ul class="dropdown-menu">
                    <li><a href="#products">Basic Plan</a></li>
                    <li><a href="#products">Professional Plan</a></li>
                    <li><a href="#products">Enterprise Plan</a></li>
                </ul>
            </li>
            <li id="messagesNavItem" style="display: none;">
                <a href="#messages" onClick="handleMessagesClick(event)">
                    Messages
                    <span id="messageNotification" class="notification-badge" style="display: none;"></span>
                </a>
            </li>
            <li><a href="#testimonials">Testimonials</a></li>
            <li><a href="#announcements">üì¢ Announcements</a></li>
            <li><a href="#community">Community</a></li>
            <li><a href="#live" class="live-link">üî¥ Live</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
        
        <!-- Auth Buttons -->
        <div class="auth-buttons" id="authButtons">
            <button class="btn-primary" onClick="showAuthModal('login')">Login</button>
        </div>
        
        <!-- User Menu (shown after login) -->
        <div class="user-menu" id="userMenu" style="display: none;">
            <div class="user-info">
                <div class="user-username" id="welcomeUser"></div>
                <div class="user-role" id="userRole"></div>
            </div>
            <button class="btn-secondary" onClick="showAdminDashboard()" id="adminBtn" style="display: none;">Admin Dashboard</button>
            <button class="btn-secondary" onClick="logout()">Logout</button>
        </div>
        
        <button class="mobile-menu-btn" id="mobileMenuBtn" onClick="toggleMenu()">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-content">
            <div class="hero-tagline">WHERE INNOVATION KNOWS NO BOUNDS</div>
            <h1>NEXT-GEN<br>TECHNOLOGY<br>SOLUTIONS</h1>
            <p>Transform your business with cutting-edge technology and innovative solutions. We deliver excellence in software development, cloud solutions, and digital transformation.</p>
            <div class="hero-buttons">
                <a href="#" class="btn-primary" onClick="showAuthModal('login')">Login to View Services</a>
                <a href="#contact" class="btn-secondary">Contact Us</a>
            </div>
        </div>

        <div class="hero-visual">
            <div class="circle-container">
                <div class="circle circle-outer"></div>
                <div class="central-icon">üåè</div>
            </div>
        </div>
    </section>

    <!-- Announcements Section -->
    <section class="announcements" id="announcements">
        <div class="announcements-container">
            <div class="section-header">
                <div class="section-tag">Latest Updates</div>
                <h2 class="section-title">üì¢ Latest Announcements</h2>
                <p class="section-description">
                    Stay updated with the latest news, updates, and important information from SYSTEM.LK.
                </p>
            </div>

            <div class="announcements-grid" id="announcementsGrid">
                <!-- Announcements will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section class="testimonials" id="testimonials">
        <div class="section-header">
            <div class="section-tag">What Our Clients Say</div>
            <h2 class="section-title">Client Testimonials</h2>
            <p class="section-description">
                Hear from businesses and individuals who have transformed their operations with our technology solutions.
            </p>
        </div>

        <div class="testimonials-slider">
            <div class="testimonial-card">
                <div class="testimonial-rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                <div class="testimonial-content">
                    "SYSTEM.LK transformed our entire business operations. Their cloud solutions reduced our IT costs by 40% while improving performance dramatically."
                </div>
                <div class="testimonial-author">
                    <div class="author-avatar">JD</div>
                    <div class="author-info">
                        <h4>John Davis</h4>
                        <p>CTO, TechForward Inc.</p>
                    </div>
                </div>
            </div>

            <div class="testimonial-card">
                <div class="testimonial-rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                <div class="testimonial-content">
                    "The cybersecurity implementation was flawless. Our systems are now more secure than ever, and their 24/7 support is absolutely outstanding."
                </div>
                <div class="testimonial-author">
                    <div class="author-avatar">SM</div>
                    <div class="author-info">
                        <h4>Sarah Miller</h4>
                        <p>Security Director, Global Bank</p>
                    </div>
                </div>
            </div>

            <div class="testimonial-card">
                <div class="testimonial-rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                <div class="testimonial-content">
                    "Their AI solutions helped us automate critical processes, saving hundreds of hours monthly. The team is professional and highly skilled."
                </div>
                <div class="testimonial-author">
                    <div class="author-avatar">RK</div>
                    <div class="author-info">
                        <h4>Robert Kim</h4>
                        <p>CEO, DataFlow Analytics</p>
                    </div>
                </div>
            </div>

            <div class="testimonial-card">
                <div class="testimonial-rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                <div class="testimonial-content">
                    "The software development team delivered our project ahead of schedule with exceptional quality. Their attention to detail is remarkable."
                </div>
                <div class="testimonial-author">
                    <div class="author-avatar">AW</div>
                    <div class="author-info">
                        <h4>Amanda Wilson</h4>
                        <p>Product Manager, InnovateCorp</p>
                    </div>
                </div>
            </div>

            <div class="testimonial-card">
                <div class="testimonial-rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                <div class="testimonial-content">
                    "Excellent service and support! Their UI/UX design team created an interface that increased our conversion rate by 35% in just two months."
                </div>
                <div class="testimonial-author">
                    <div class="author-avatar">TP</div>
                    <div class="author-info">
                        <h4>Thomas Parker</h4>
                        <p>Marketing Director, E-Shop Pro</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section (Hidden for public users) -->
    <section class="services" id="services" style="display: none;">
        <div class="section-header">
            <div class="section-tag">Our Services</div>
            <h2 class="section-title">What We Offer</h2>
            <p class="section-description">
                Comprehensive technology solutions tailored to meet your business needs and drive digital transformation.
            </p>
        </div>

        <div class="services-grid">
            <div class="service-card">
                <div class="service-icon">üöÄ</div>
                <h3>Software Development</h3>
                <p>Custom software solutions built with modern technologies. From web applications to enterprise systems, we create scalable and robust solutions tailored to your needs.</p>
            </div>

            <div class="service-card">
                <div class="service-icon">‚òÅÔ∏è</div>
                <h3>Cloud Solutions</h3>
                <p>Migrate to the cloud with confidence. We provide comprehensive cloud architecture, migration strategies, and ongoing management for AWS, Azure, and Google Cloud.</p>
            </div>

            <div class="service-card">
                <div class="service-icon">üîí</div>
                <h3>Cybersecurity</h3>
                <p>Protect your digital assets with our advanced security solutions. We ensure your systems are safe from threats through penetration testing, security audits, and compliance.</p>
            </div>

            <div class="service-card">
                <div class="service-icon">ü§ñ</div>
                <h3>AI & Machine Learning</h3>
                <p>Harness the power of artificial intelligence to automate processes and gain valuable insights. We build intelligent systems that learn and adapt to your business.</p>
            </div>

            <div class="service-card">
                <div class="service-icon">üìä</div>
                <h3>Data Analytics</h3>
                <p>Turn data into actionable insights. Our analytics solutions help you make informed decisions through data visualization, business intelligence, and predictive analytics.</p>
            </div>

            <div class="service-card">
                <div class="service-icon">üé®</div>
                <h3>UI/UX Design</h3>
                <p>Create stunning user experiences that engage and delight. We design interfaces that are beautiful, intuitive, and optimized for conversion and user satisfaction.</p>
            </div>
        </div>
    </section>

    <!-- Features Section (Hidden for public users) -->
    <section class="services" id="features" style="display: none; background: #0a0e17;">
        <div class="section-header">
            <div class="section-tag">Why Choose Us</div>
            <h2 class="section-title">Our Key Features</h2>
            <p class="section-description">
                We combine expertise, innovation, and dedication to deliver exceptional results for your business.
            </p>
        </div>

        <div class="services-grid">
            <div class="service-card">
                <div class="service-icon">‚ö°</div>
                <h3>Fast Delivery</h3>
                <p>Agile development methodology ensures quick turnaround times without compromising quality.</p>
            </div>

            <div class="service-card">
                <div class="service-icon">üéØ</div>
                <h3>Precision & Quality</h3>
                <p>Every project undergoes rigorous testing to ensure the highest standards of quality and performance.</p>
            </div>

            <div class="service-card">
                <div class="service-icon">üí°</div>
                <h3>Innovation First</h3>
                <p>We stay ahead of technology trends to provide cutting-edge solutions for your business.</p>
            </div>

            <div class="service-card">
                <div class="service-icon">üõ°Ô∏è</div>
                <h3>Secure & Reliable</h3>
                <p>Industry-standard security practices protect your data and ensure system reliability.</p>
            </div>

            <div class="service-card">
                <div class="service-icon">üí∞</div>
                <h3>Cost Effective</h3>
                <p>Competitive pricing with transparent costs and no hidden fees for all our services.</p>
            </div>

            <div class="service-card">
                <div class="service-icon">ü§ù</div>
                <h3>24/7 Support</h3>
                <p>Round-the-clock technical support to keep your systems running smoothly at all times.</p>
            </div>
        </div>
    </section>

    <!-- Products/Pricing Section (Hidden for public users) -->
    <section class="services" id="products" style="display: none; background: linear-gradient(180deg, #0a0e17 0%, #151922 100%);">
        <div class="section-header">
            <div class="section-tag">Pricing Plans</div>
            <h2 class="section-title">Choose Your Plan</h2>
            <p class="section-description">
                Flexible pricing options to suit businesses of all sizes.
            </p>
        </div>

        <div class="services-grid">
            <div class="service-card">
                <div class="service-icon">üì¶</div>
                <h3>Basic Plan</h3>
                <p style="font-size: 32px; font-weight: bold; color: #c8ff00; margin: 20px 0;">$999<span style="font-size: 16px; color: #a0a0a0;">/month</span></p>
                <p>Perfect for startups and small businesses. Includes web development, cloud hosting, and standard support.</p>
            </div>

            <div class="service-card" style="border-color: #c8ff00; transform: scale(1.05);">
                <div class="service-icon">üöÄ</div>
                <h3>Professional Plan</h3>
                <p style="font-size: 32px; font-weight: bold; color: #c8ff00; margin: 20px 0;">$2,499<span style="font-size: 16px; color: #a0a0a0;">/month</span></p>
                <p>Most popular! Advanced features, 24/7 priority support, security suite, and data analytics dashboard.</p>
            </div>

            <div class="service-card">
                <div class="service-icon">üëë</div>
                <h3>Enterprise Plan</h3>
                <p style="font-size: 32px; font-weight: bold; color: #c8ff00; margin: 20px 0;">Custom</p>
                <p>Tailored solutions for large organizations. Dedicated account manager, AI/ML integration, and SLA guarantees.</p>
            </div>
        </div>
    </section>

    <!-- Messages Section -->
    <section class="contact" id="messages" style="background: #0a0e17;">
        <div class="section-header">
            <div class="section-tag">Get In Touch</div>
            <h2 class="section-title">Send Us a Message</h2>
            <p class="section-description">
                Have a question or want to discuss a project? We're here to help!
            </p>
        </div>

        <div id="messagesContainer">
            <!-- Messages interface will be loaded here dynamically -->
        </div>
    </section>

    <!-- Community Section -->
    <section class="about" id="community" style="background: linear-gradient(180deg, #0a0e17 0%, #151922 100%);">
        <div class="about-content">
            <div class="section-tag">Join Our Community</div>
            <h2>SYSTEM.LK Community</h2>
            <p>Connect with thousands of developers, entrepreneurs, and tech enthusiasts from around the world. Share knowledge, collaborate on projects, and grow together.</p>
            <p>Our community is a vibrant ecosystem where innovation meets collaboration. Get access to exclusive resources, participate in webinars, and network with industry experts.</p>
            <div class="hero-buttons" style="margin-top: 30px;">
                <a href="https://www.youtube.com/@systemlkr/community" target="_blank" class="btn-primary">Join Community</a>
                <a href="#live" class="btn-secondary">View Live Events</a>
            </div>
        </div>

        <div class="about-visual">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">5000+</div>
                    <div class="stat-label">Community Members</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">200+</div>
                    <div class="stat-label">Active Projects</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">50+</div>
                    <div class="stat-label">Events Per Year</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">24/7</div>
                    <div class="stat-label">Community Support</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Live & Events Section -->
    <section class="services" id="live" style="background: #0a0e17;">
        <div class="section-header">
            <div class="section-tag">üî¥ Live Now & üìÖ Upcoming Events</div>
            <h2 class="section-title">Live Updates & Upcoming Events</h2>
            <p class="section-description">
                Watch our latest live streams, tutorials, tech discussions, and stay updated with upcoming events.
            </p>
        </div>

        <div style="max-width: 900px; margin: 60px auto;">
            <!-- Live Stream -->
            <div style="background: rgba(255, 255, 255, 0.02); padding: 20px; border-radius: 20px; border: 1px solid rgba(200, 255, 0, 0.2); margin-bottom: 30px;">
                <h3 style="color: #c8ff00; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                    <span>üî¥</span> Live Stream
                </h3>
                <iframe 
                    width="100%" 
                    height="500" 
                    src="https://www.youtube.com/embed/live_stream?channel=UCxOVl6s8kfre»ôedk-WBKvOw&autoplay=0" 
                    frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                    allowfullscreen
                    style="border-radius: 15px;">
                </iframe>
            </div>
            
            <!-- Upcoming Events -->
            <div style="background: rgba(255, 255, 255, 0.02); padding: 30px; border-radius: 20px; border: 1px solid rgba(200, 255, 0, 0.2);">
                <h3 style="color: #c8ff00; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                    <span>üìÖ</span> Upcoming Events
                </h3>
                <div id="upcomingEvents" style="display: grid; gap: 15px;">
                    <!-- Events will be loaded here -->
                </div>
            </div>
            
            <div style="margin-top: 20px; text-align: center;">
                <a href="https://www.youtube.com/@systemlkr" target="_blank" style="display: inline-flex; align-items: center; gap: 10px; padding: 12px 30px; background: rgba(255, 0, 0, 0.1); border: 1px solid rgba(255, 0, 0, 0.3); border-radius: 25px; color: #ff0000; text-decoration: none; font-weight: 600; transition: all 0.3s;">
                    <span style="font-size: 20px;">‚ñ∂Ô∏è</span> Visit YouTube Channel
                </a>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about" id="about">
        <div class="about-content">
            <div class="section-tag">About Us</div>
            <h2>Leading Technology Partner</h2>
            <p>At SYSTEM.LK, we are passionate about delivering innovative technology solutions that empower businesses to thrive in the digital age. Our team of expert professionals combines technical excellence with strategic thinking.</p>
            <p>With years of experience across various industries, we understand the unique challenges businesses face and provide tailored solutions that drive growth and efficiency.</p>
            <p>Our mission is to be your trusted technology partner, providing solutions that are not just effective today, but scalable and adaptable for tomorrow's challenges.</p>
        </div>

        <div class="about-visual">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">500+</div>
                    <div class="stat-label">Projects Completed</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">150+</div>
                    <div class="stat-label">Happy Clients</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">50+</div>
                    <div class="stat-label">Team Members</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">24/7</div>
                    <div class="stat-label">Support Available</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact" id="contact">
        <div class="section-header">
            <div class="section-tag">Get In Touch</div>
            <h2 class="section-title">Contact Us</h2>
            <p class="section-description">
                Ready to start your next project? Let's discuss how we can help you achieve your goals.
            </p>
        </div>

        <div class="contact-container">
            <div class="contact-info">
                <div class="contact-item">
                    <div class="contact-icon">üìç</div>
                    <div class="contact-details">
                        <h4>Our Location</h4>
                        <p>123 Tech Street, Digital City<br>Sri Lanka, 10000</p>
                    </div>
                </div>

                <div class="contact-item">
                    <div class="contact-icon">üìß</div>
                    <div class="contact-details">
                        <h4>Email Address</h4>
                        <p>opensystemlk@gmail.com<br>support@system.lk</p>
                    </div>
                </div>

                <div class="contact-item">
                    <div class="contact-icon">üìû</div>
                    <div class="contact-details">
                        <h4>Phone Number</h4>
                        <p>+94 11 234 5678<br>+94 77 123 4567</p>
                    </div>
                </div>

                <div class="contact-item">
                    <div class="contact-icon">‚è∞</div>
                    <div class="contact-details">
                        <h4>Business Hours</h4>
                        <p>Mon - Fri: 9:00 AM - 6:00 PM<br>24/7 Support Available</p>
                    </div>
                </div>
            </div>

            <div class="contact-form" id="contactForm">
                <div class="form-group">
                    <label>Your Name</label>
                    <input type="text" id="contactName" required placeholder="Enter your full name">
                </div>

                <div class="form-group">
                    <label>Email Address</label>
                    <input type="email" id="contactEmail" required placeholder="Enter your email">
                </div>

                <div class="form-group">
                    <label>Subject</label>
                    <input type="text" id="contactSubject" required placeholder="What is this about?">
                </div>

                <div class="form-group">
                    <label>Your Message</label>
                    <textarea id="contactMessage" required placeholder="Tell us more about your project..."></textarea>
                </div>

                <button type="button" class="submit-btn" onClick="sendContactForm()">Send Message</button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>SYSTEM.LK</h3>
                <p>Leading technology solutions provider, delivering innovation and excellence in software development, cloud solutions, and digital transformation.</p>
                <div class="social-links">
                    <a href="https://facebook.com/system.lkr" target="_blank" class="facebook-btn">
                        <svg viewBox="0 0 24 24">
                            <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                        </svg>
                    </a>
                    <a href="https://instagram.com/system.lk" target="_blank" class="instagram-btn">
                        <svg viewBox="0 0 24 24">
                            <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                        </svg>
                    </a>
                    <a href="https://tiktok.com/@system.lk" target="_blank" class="tiktok-btn">
                        <svg viewBox="0 0 24 24">
                            <path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"/>
                        </svg>
                    </a>
                    <a href="https://twitter.com/System_lk" target="_blank" class="twitter-btn">
                        <svg viewBox="0 0 24 24">
                            <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
                        </svg>
                    </a>
                    <a href="https://youtube.com/@systemlkr" target="_blank" class="youtube-btn">
                        <svg viewBox="0 0 24 24">
                            <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                        </svg>
                    </a>
                    <a href="mailto:opensystemlk@gmail.com" class="email-btn">
                        <svg viewBox="0 0 24 24">
                            <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
                        </svg>
                    </a>
                </div>
            </div>

            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul class="footer-links">
                    <li><a href="#home">Home</a></li>
                    <li><a href="#announcements">Announcements</a></li>
                    <li><a href="#testimonials">Testimonials</a></li>
                    <li><a href="#community">Community</a></li>
                    <li><a href="#live">Live & Events</a></li>
                    <li><a href="#about">About Us</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>Public Services</h3>
                <ul class="footer-links">
                    <li><a href="#testimonials">Client Reviews</a></li>
                    <li><a href="#announcements">Latest News</a></li>
                    <li><a href="#community">Community Forum</a></li>
                    <li><a href="#live">Live Tutorials</a></li>
                    <li><a href="#contact">Technical Support</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>Support</h3>
                <ul class="footer-links">
                    <li><a href="#" onClick="showSupport()">Help Center</a></li>
                    <li><a href="#" onClick="showSupport()">Privacy Policy</a></li>
                    <li><a href="#" onClick="showSupport()">Terms of Service</a></li>
                    <li><a href="#contact">Contact Support</a></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; 2026 SYSTEM.LK. All rights reserved. Built with innovation and passion.</p>
        </div>
    </footer>

    <!-- Scroll to Top Button -->
    <button class="scroll-top" id="scrollTop" onClick="scrollToTop()">‚Üë</button>

    <script>
        // ====== FIREBASE CONFIGURATION ======
        const firebaseConfig = {
            apiKey: "AIzaSyB2_AVu9x-ne8qGgGnTmAF4YaEZVoTrXc0",
            authDomain: "system-lk.firebaseapp.com",
            databaseURL: "https://system-lk-default-rtdb.firebaseio.com",
            projectId: "system-lk",
            storageBucket: "system-lk.firebasestorage.app",
            messagingSenderId: "519868541261",
            appId: "1:519868541261:web:555f351efa7b419427af04",
            measurementId: "G-2YJD0TST4T"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const database = firebase.database();

        // ====== APPLICATION CONFIGURATION ======
        const APP_CONFIG = {
            STORAGE_KEYS: {
                TOKEN: 'systemlk_token',
                USER: 'systemlk_user',
                LAST_MESSAGE_CHECK: 'systemlk_last_message_check',
                CHAT_SESSIONS: 'systemlk_chat_sessions',
                CURRENT_CHAT: 'systemlk_current_chat'
            },
            
            DATABASE_PATHS: {
                USERS: 'users',
                MESSAGES: 'messages',
                CHATS: 'chats',
                ANNOUNCEMENTS: 'announcements',
                EVENTS: 'events'
            },
            
            DEFAULT_ADMIN: {
                id: 'admin-001',
                username: 'admin',
                email: 'admin@system.lk',
                role: 'admin',
                createdAt: new Date().toISOString(),
                isActive: true
            },
            
            DEFAULT_ANNOUNCEMENTS: [
                {
                    id: 'ann-001',
                    title: 'New Website Launch',
                    content: 'We are excited to announce the launch of our new website with enhanced features and improved user experience.',
                    type: 'update',
                    date: new Date().toISOString(),
                    author: 'SYSTEM.LK Team',
                    isActive: true
                },
                {
                    id: 'ann-002',
                    title: 'Live Tech Talk Tomorrow',
                    content: 'Join us tomorrow for a live tech talk on "The Future of Cloud Computing". Special guest speakers from industry leaders.',
                    type: 'event',
                    date: new Date(Date.now() + 86400000).toISOString(),
                    author: 'SYSTEM.LK Events',
                    isActive: true
                }
            ],
            
            DEFAULT_EVENTS: [
                {
                    id: 'event-001',
                    title: 'AI & Machine Learning Workshop',
                    date: new Date(Date.now() + 86400000 * 3).toISOString(),
                    time: '10:00 AM - 4:00 PM',
                    location: 'Online',
                    description: 'Hands-on workshop covering the latest AI and ML techniques.',
                    isActive: true
                },
                {
                    id: 'event-002',
                    title: 'Cybersecurity Summit 2026',
                    date: new Date(Date.now() + 86400000 * 7).toISOString(),
                    time: '9:00 AM - 6:00 PM',
                    location: 'Colombo Convention Center',
                    description: 'Annual cybersecurity conference featuring industry experts.',
                    isActive: true
                }
            ]
        };

        // ====== APPLICATION STATE ======
        let currentUser = null;
        let users = [];
        let messages = [];
        let chatSessions = [];
        let announcements = [];
        let events = [];
        let currentChatSession = null;
        let messageCheckInterval = null;
        let chatCheckInterval = null;
        let isFirebaseInitialized = false;

        // ====== INITIALIZATION ======
        document.addEventListener('DOMContentLoaded', function() {
            showFirebaseLoading('Initializing SYSTEM.LK...');
            
            // Initialize Firebase and check authentication
            initializeFirebase();
        });

        // ====== FIREBASE FUNCTIONS ======
        async function initializeFirebase() {
            try {
                // Check authentication state
                auth.onAuthStateChanged(async (user) => {
                    if (user) {
                        // User is signed in
                        await handleUserSignIn(user);
                    } else {
                        // No user is signed in
                        handleUserSignOut();
                    }
                    
                    // Initialize data loading
                    await initializeData();
                    
                    // Hide page loader after 1.5 seconds
                    setTimeout(() => {
                        const pageLoader = document.getElementById('pageLoader');
                        if (pageLoader) {
                            pageLoader.classList.add('fade-out');
                            setTimeout(() => {
                                pageLoader.style.display = 'none';
                            }, 500);
                        }
                        hideFirebaseLoading();
                    }, 1500);
                    
                    isFirebaseInitialized = true;
                });
            } catch (error) {
                console.error('Firebase initialization error:', error);
                hideFirebaseLoading();
                showAlert('Failed to connect to SYSTEM.LK. Please refresh the page.', 'error');
            }
        }

        async function handleUserSignIn(firebaseUser) {
            try {
                // Get user data from Firebase
                const userRef = database.ref(`${APP_CONFIG.DATABASE_PATHS.USERS}/${firebaseUser.uid}`);
                const snapshot = await userRef.once('value');
                
                if (snapshot.exists()) {
                    // User exists in database
                    currentUser = snapshot.val();
                    currentUser.id = firebaseUser.uid;
                    currentUser.email = firebaseUser.email;
                    
                    // Store in localStorage for session persistence
                    localStorage.setItem(APP_CONFIG.STORAGE_KEYS.USER, JSON.stringify(currentUser));
                    localStorage.setItem(APP_CONFIG.STORAGE_KEYS.TOKEN, firebaseUser.accessToken);
                } else {
                    // New user - create user profile
                    currentUser = {
                        id: firebaseUser.uid,
                        username: firebaseUser.email.split('@')[0],
                        email: firebaseUser.email,
                        role: 'user',
                        createdAt: new Date().toISOString(),
                        isActive: true
                    };
                    
                    // Save to Firebase
                    await userRef.set(currentUser);
                    
                    // Store in localStorage
                    localStorage.setItem(APP_CONFIG.STORAGE_KEYS.USER, JSON.stringify(currentUser));
                    localStorage.setItem(APP_CONFIG.STORAGE_KEYS.TOKEN, firebaseUser.accessToken);
                }
                
                updateUIForUser();
                startMessageNotificationCheck();
                startChatNotificationCheck();
            } catch (error) {
                console.error('Error handling user sign in:', error);
                showAlert('Error loading user data. Please try again.', 'error');
            }
        }

        function handleUserSignOut() {
            currentUser = null;
            localStorage.removeItem(APP_CONFIG.STORAGE_KEYS.USER);
            localStorage.removeItem(APP_CONFIG.STORAGE_KEYS.TOKEN);
            localStorage.removeItem(APP_CONFIG.STORAGE_KEYS.CURRENT_CHAT);
            updateUIForUser();
            
            // Stop notification check
            stopMessageNotificationCheck();
            stopChatNotificationCheck();
            
            // Reset messages section
            if (window.location.hash === '#messages') {
                updateMessagesSection();
            }
            
            // Close chat if open
            document.getElementById('liveChatModal').style.display = 'none';
            currentChatSession = null;
        }

        async function initializeData() {
            try {
                // Load announcements
                await loadAnnouncementsFromFirebase();
                
                // Load events
                await loadEventsFromFirebase();
                
                // Load users if admin
                if (currentUser && currentUser.role === 'admin') {
                    await loadAllUsers();
                }
                
                // Load messages if logged in
                if (currentUser) {
                    await loadUserMessages();
                }
                
                // Load chat sessions if logged in
                if (currentUser) {
                    await loadChatSessionsFromFirebase();
                }
                
                // Check for existing chat session
                const storedChat = localStorage.getItem(APP_CONFIG.STORAGE_KEYS.CURRENT_CHAT);
                if (storedChat) {
                    currentChatSession = JSON.parse(storedChat);
                    updateChatNotification();
                }
                
                // Initialize network animation
                initializeNetworkAnimation();
            } catch (error) {
                console.error('Error initializing data:', error);
            }
        }

        async function loadAnnouncementsFromFirebase() {
            try {
                const announcementsRef = database.ref(APP_CONFIG.DATABASE_PATHS.ANNOUNCEMENTS);
                const snapshot = await announcementsRef.once('value');
                
                if (snapshot.exists()) {
                    const data = snapshot.val();
                    announcements = Object.values(data).filter(ann => ann.isActive);
                } else {
                    // Create default announcements
                    announcements = APP_CONFIG.DEFAULT_ANNOUNCEMENTS;
                    await announcementsRef.set(APP_CONFIG.DEFAULT_ANNOUNCEMENTS.reduce((acc, ann) => {
                        acc[ann.id] = ann;
                        return acc;
                    }, {}));
                }
                
                loadAnnouncements();
                loadUpcomingEvents();
            } catch (error) {
                console.error('Error loading announcements:', error);
            }
        }

        async function loadEventsFromFirebase() {
            try {
                const eventsRef = database.ref(APP_CONFIG.DATABASE_PATHS.EVENTS);
                const snapshot = await eventsRef.once('value');
                
                if (snapshot.exists()) {
                    const data = snapshot.val();
                    events = Object.values(data).filter(event => event.isActive);
                } else {
                    // Create default events
                    events = APP_CONFIG.DEFAULT_EVENTS;
                    await eventsRef.set(APP_CONFIG.DEFAULT_EVENTS.reduce((acc, event) => {
                        acc[event.id] = event;
                        return acc;
                    }, {}));
                }
                
                loadUpcomingEvents();
            } catch (error) {
                console.error('Error loading events:', error);
            }
        }

        async function loadAllUsers() {
            try {
                const usersRef = database.ref(APP_CONFIG.DATABASE_PATHS.USERS);
                const snapshot = await usersRef.once('value');
                
                if (snapshot.exists()) {
                    const data = snapshot.val();
                    users = Object.entries(data).map(([id, user]) => ({
                        id,
                        ...user
                    }));
                } else {
                    // Create admin user if not exists
                    users = [APP_CONFIG.DEFAULT_ADMIN];
                    await usersRef.set({
                        [APP_CONFIG.DEFAULT_ADMIN.id]: APP_CONFIG.DEFAULT_ADMIN
                    });
                }
            } catch (error) {
                console.error('Error loading users:', error);
            }
        }

        async function loadUserMessages() {
            try {
                const messagesRef = database.ref(APP_CONFIG.DATABASE_PATHS.MESSAGES);
                const snapshot = await messagesRef.once('value');
                
                if (snapshot.exists()) {
                    const data = snapshot.val();
                    messages = Object.values(data).filter(msg => 
                        !msg.deleted && 
                        (msg.receiverId === currentUser.id || msg.senderId === currentUser.id)
                    );
                } else {
                    messages = [];
                }
                
                updateMessageNotifications();
            } catch (error) {
                console.error('Error loading messages:', error);
            }
        }

        async function loadChatSessionsFromFirebase() {
            try {
                const chatsRef = database.ref(APP_CONFIG.DATABASE_PATHS.CHATS);
                const snapshot = await chatsRef.once('value');
                
                if (snapshot.exists()) {
                    const data = snapshot.val();
                    chatSessions = Object.values(data).filter(chat => !chat.ended);
                } else {
                    chatSessions = [];
                }
            } catch (error) {
                console.error('Error loading chat sessions:', error);
            }
        }

        // ====== LOADING INDICATORS ======
        function showFirebaseLoading(text = 'Loading...') {
            const loading = document.getElementById('firebaseLoading');
            const loadingText = document.getElementById('firebaseLoadingText');
            
            if (loading && loadingText) {
                loadingText.textContent = text;
                loading.classList.add('show');
            }
        }

        function hideFirebaseLoading() {
            const loading = document.getElementById('firebaseLoading');
            if (loading) {
                loading.classList.remove('show');
            }
        }

        // ====== AUTHENTICATION FUNCTIONS (Firebase) ======
        async function login(email, password) {
            showFirebaseLoading('Signing in...');
            
            try {
                const userCredential = await auth.signInWithEmailAndPassword(email, password);
                const user = userCredential.user;
                
                showAlert('Login successful! Welcome back to SYSTEM.LK!', 'success');
                document.getElementById('authModal').style.display = 'none';
                hideFirebaseLoading();
                
                return { success: true, user };
            } catch (error) {
                hideFirebaseLoading();
                let errorMessage = 'Login failed. Please try again.';
                
                switch(error.code) {
                    case 'auth/user-not-found':
                        errorMessage = 'No account found with this email.';
                        break;
                    case 'auth/wrong-password':
                        errorMessage = 'Incorrect password. Please try again.';
                        break;
                    case 'auth/invalid-email':
                        errorMessage = 'Invalid email address.';
                        break;
                    case 'auth/user-disabled':
                        errorMessage = 'This account has been disabled.';
                        break;
                }
                
                document.getElementById('loginError').textContent = errorMessage;
                document.getElementById('loginError').style.display = 'block';
                
                return { success: false, error: errorMessage };
            }
        }

        async function register(username, email, password, confirmPassword) {
            // Validate passwords match
            if (password !== confirmPassword) {
                document.getElementById('registerError').textContent = 'Passwords do not match.';
                document.getElementById('registerError').style.display = 'block';
                return { success: false, error: 'Passwords do not match' };
            }
            
            // Validate password strength
            if (password.length < 6) {
                document.getElementById('registerError').textContent = 'Password must be at least 6 characters.';
                document.getElementById('registerError').style.display = 'block';
                return { success: false, error: 'Password too short' };
            }
            
            showFirebaseLoading('Creating account...');
            
            try {
                // Create user in Firebase Authentication
                const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                const user = userCredential.user;
                
                // Create user profile in database
                const newUser = {
                    id: user.uid,
                    username: username,
                    email: email,
                    role: 'user',
                    createdAt: new Date().toISOString(),
                    isActive: true
                };
                
                // Save to Firebase database
                await database.ref(`${APP_CONFIG.DATABASE_PATHS.USERS}/${user.uid}`).set(newUser);
                
                showAlert('Account created successfully! Welcome to SYSTEM.LK!', 'success');
                document.getElementById('authModal').style.display = 'none';
                hideFirebaseLoading();
                
                return { success: true, user: newUser };
            } catch (error) {
                hideFirebaseLoading();
                let errorMessage = 'Registration failed. Please try again.';
                
                switch(error.code) {
                    case 'auth/email-already-in-use':
                        errorMessage = 'Email already registered. Please use a different email.';
                        break;
                    case 'auth/invalid-email':
                        errorMessage = 'Invalid email address.';
                        break;
                    case 'auth/operation-not-allowed':
                        errorMessage = 'Email/password accounts are not enabled.';
                        break;
                    case 'auth/weak-password':
                        errorMessage = 'Password is too weak. Please use a stronger password.';
                        break;
                }
                
                document.getElementById('registerError').textContent = errorMessage;
                document.getElementById('registerError').style.display = 'block';
                
                return { success: false, error: errorMessage };
            }
        }

        async function logout() {
            if (confirm('Are you sure you want to logout?')) {
                showFirebaseLoading('Signing out...');
                
                try {
                    await auth.signOut();
                    showAlert('Logged out successfully. Come back soon!', 'info');
                } catch (error) {
                    console.error('Logout error:', error);
                    showAlert('Error logging out. Please try again.', 'error');
                } finally {
                    hideFirebaseLoading();
                }
            }
        }

        // ====== BEAUTIFUL ALERT SYSTEM ======
        function showAlert(message, type = 'info', title = 'SYSTEM.LK') {
            // Remove existing alerts
            document.querySelectorAll('.alert').forEach(alert => {
                alert.style.animation = 'fadeOut 0.4s ease';
                setTimeout(() => {
                    if (alert.parentNode) {
                        alert.parentNode.removeChild(alert);
                    }
                }, 400);
            });
            
            const alert = document.createElement('div');
            alert.className = `alert ${type}`;
            
            const icons = {
                success: '‚úÖ',
                error: '‚ùå',
                info: '‚ÑπÔ∏è',
                warning: '‚ö†Ô∏è',
                premium: 'üíé'
            };
            
            alert.innerHTML = `
                <div class="alert-content">
                    <div class="alert-icon">${icons[type] || icons.info}</div>
                    <div class="alert-message">
                        <div class="alert-title">
                            ${title}
                            <button class="alert-close" onclick="this.parentElement.parentElement.parentElement.style.animation='fadeOut 0.4s ease'; setTimeout(() => this.parentElement.parentElement.parentElement.remove(), 400)">√ó</button>
                        </div>
                        ${message}
                    </div>
                </div>
            `;
            
            document.body.appendChild(alert);
            
            // Auto-remove after 6 seconds
            setTimeout(() => {
                if (alert.parentNode) {
                    alert.style.animation = 'fadeOut 0.4s ease';
                    setTimeout(() => {
                        if (alert.parentNode) {
                            alert.parentNode.removeChild(alert);
                        }
                    }, 400);
                }
            }, 6000);
        }

        // ====== ANNOUNCEMENTS FUNCTIONS ======
        function loadAnnouncements() {
            const container = document.getElementById('announcementsGrid');
            if (!container) return;
            
            // Sort by date (newest first)
            const sortedAnnouncements = [...announcements].sort((a, b) => 
                new Date(b.date) - new Date(a.date)
            );
            
            if (sortedAnnouncements.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: #a0a0a0;">
                        <p>No announcements yet. Check back soon!</p>
                    </div>
                `;
                return;
            }
            
            const announcementsHTML = sortedAnnouncements.slice(0, 6).map(announcement => {
                const typeColors = {
                    update: '#2196F3',
                    event: '#FF9800',
                    maintenance: '#f44336',
                    feature: '#4CAF50'
                };
                
                const typeLabels = {
                    update: 'Update',
                    event: 'Event',
                    maintenance: 'Maintenance',
                    feature: 'New Feature'
                };
                
                const date = new Date(announcement.date);
                const now = new Date();
                const isNew = (now - date) < 86400000 * 3; // 3 days
                
                return `
                    <div class="announcement-card">
                        ${isNew ? '<span class="announcement-badge">NEW</span>' : ''}
                        <div class="announcement-date">
                            ${date.toLocaleDateString()} ‚Ä¢ 
                            <span style="color: ${typeColors[announcement.type] || '#c8ff00'}">
                                ${typeLabels[announcement.type] || 'Announcement'}
                            </span>
                        </div>
                        <h3 class="announcement-title">${announcement.title}</h3>
                        <p class="announcement-content">${announcement.content}</p>
                        <div style="margin-top: 15px; color: #666; font-size: 12px;">
                            Posted by: ${announcement.author}
                        </div>
                    </div>
                `;
            }).join('');
            
            container.innerHTML = announcementsHTML;
        }

        function loadUpcomingEvents() {
            const container = document.getElementById('upcomingEvents');
            if (!container) return;
            
            // Filter future events and sort by date
            const now = new Date();
            const upcomingEvents = events
                .filter(event => new Date(event.date) > now)
                .sort((a, b) => new Date(a.date) - new Date(b.date))
                .slice(0, 5); // Show only 5 upcoming events
            
            if (upcomingEvents.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 20px; color: #a0a0a0;">
                        <p>No upcoming events scheduled. Check back soon!</p>
                    </div>
                `;
                return;
            }
            
            const eventsHTML = upcomingEvents.map(event => {
                const eventDate = new Date(event.date);
                const daysUntil = Math.ceil((eventDate - now) / (1000 * 60 * 60 * 24));
                
                return `
                    <div style="background: rgba(255, 255, 255, 0.02); padding: 15px; border-radius: 10px; border: 1px solid rgba(200, 255, 0, 0.1);">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 10px;">
                            <h4 style="color: #c8ff00; margin: 0;">${event.title}</h4>
                            <span style="background: rgba(200, 255, 0, 0.1); color: #c8ff00; padding: 4px 8px; border-radius: 12px; font-size: 12px;">
                                ${daysUntil}d
                            </span>
                        </div>
                        <div style="color: #a0a0a0; font-size: 14px; margin-bottom: 5px;">
                            üìÖ ${eventDate.toLocaleDateString()} ‚Ä¢ ‚è∞ ${event.time}
                        </div>
                        <div style="color: #a0a0a0; font-size: 13px; margin-bottom: 5px;">
                            üìç ${event.location}
                        </div>
                        <p style="color: #a0a0a0; font-size: 13px; margin: 0;">${event.description}</p>
                    </div>
                `;
            }).join('');
            
            container.innerHTML = eventsHTML;
        }

        // ====== USER INTERFACE FUNCTIONS ======
        function initializeApp() {
            setupEventListeners();
            setupSmoothScroll();
        }

        function setupEventListeners() {
            // Close modals
            document.querySelectorAll('.close-modal').forEach(btn => {
                btn.addEventListener('click', function() {
                    this.closest('.modal').style.display = 'none';
                });
            });
            
            // Close modal when clicking outside
            window.addEventListener('click', function(event) {
                if (event.target === document.getElementById('authModal')) {
                    document.getElementById('authModal').style.display = 'none';
                }
                if (event.target === document.getElementById('adminModal')) {
                    document.getElementById('adminModal').style.display = 'none';
                }
            });
            
            // Auth tabs
            document.querySelectorAll('.auth-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabName = this.dataset.tab;
                    switchAuthTab(tabName);
                });
            });
            
            // Admin tabs
            document.querySelectorAll('.admin-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabName = this.dataset.tab;
                    switchAdminTab(tabName);
                });
            });
            
            // Login form
            document.getElementById('loginForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;
                
                // Clear previous errors
                document.getElementById('loginError').style.display = 'none';
                
                login(email, password);
            });
            
            // Register form
            document.getElementById('registerForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const username = document.getElementById('regUsername').value;
                const email = document.getElementById('regEmail').value;
                const password = document.getElementById('regPassword').value;
                const confirmPassword = document.getElementById('regConfirmPassword').value;
                
                // Clear previous errors
                document.getElementById('registerError').style.display = 'none';
                
                register(username, email, password, confirmPassword);
            });
            
            // Nav scroll effect
            window.addEventListener('scroll', handleNavScroll);
        }

        function updateUIForUser() {
            const authButtons = document.getElementById('authButtons');
            const userMenu = document.getElementById('userMenu');
            const welcomeUser = document.getElementById('welcomeUser');
            const userRole = document.getElementById('userRole');
            const adminBtn = document.getElementById('adminBtn');
            
            // Navigation items
            const featuresNavItem = document.getElementById('featuresNavItem');
            const servicesNavItem = document.getElementById('servicesNavItem');
            const productsNavItem = document.getElementById('productsNavItem');
            const messagesNavItem = document.getElementById('messagesNavItem');
            
            // Sections
            const featuresSection = document.getElementById('features');
            const servicesSection = document.getElementById('services');
            const productsSection = document.getElementById('products');
            
            if (currentUser) {
                // Show user menu, hide auth buttons
                authButtons.style.display = 'none';
                userMenu.style.display = 'flex';
                welcomeUser.textContent = currentUser.username;
                userRole.textContent = currentUser.role === 'admin' ? 'Administrator' : 'User';
                
                // Show features, services, products for logged in users
                featuresNavItem.style.display = 'list-item';
                servicesNavItem.style.display = 'list-item';
                productsNavItem.style.display = 'list-item';
                messagesNavItem.style.display = 'list-item';
                
                // Show sections
                featuresSection.style.display = 'block';
                servicesSection.style.display = 'block';
                productsSection.style.display = 'block';
                
                // Show admin button for admins only
                if (currentUser.role === 'admin') {
                    adminBtn.style.display = 'inline-block';
                } else {
                    adminBtn.style.display = 'none';
                }
                
                // Update notifications
                updateMessageNotifications();
                updateChatNotification();
            } else {
                // Show auth buttons, hide user menu
                authButtons.style.display = 'flex';
                userMenu.style.display = 'none';
                adminBtn.style.display = 'none';
                
                // Hide features, services, products for public users
                featuresNavItem.style.display = 'none';
                servicesNavItem.style.display = 'none';
                productsNavItem.style.display = 'none';
                messagesNavItem.style.display = 'none';
                
                // Hide sections
                featuresSection.style.display = 'none';
                servicesSection.style.display = 'none';
                productsSection.style.display = 'none';
            }
            
            updateMessagesSection();
            updateHeroButtons();
        }

        function updateHeroButtons() {
            const heroButtons = document.querySelector('.hero-buttons');
            if (currentUser) {
                heroButtons.innerHTML = `
                    <a href="#services" class="btn-primary">Explore Services</a>
                    <a href="#contact" class="btn-secondary">Contact Us</a>
                `;
            } else {
                heroButtons.innerHTML = `
                    <a href="#" class="btn-primary" onclick="showAuthModal('login')">Login to View Services</a>
                    <a href="#contact" class="btn-secondary">Contact Us</a>
                `;
            }
        }

        // ====== MESSAGE NOTIFICATION FUNCTIONS ======
        function updateMessageNotifications() {
            if (!currentUser) return;
            
            const unreadCount = messages.filter(msg => 
                msg.receiverId === currentUser.id && 
                !msg.isRead
            ).length;
            
            const navNotification = document.getElementById('messageNotification');
            
            if (unreadCount > 0) {
                navNotification.textContent = unreadCount;
                navNotification.style.display = 'flex';
            } else {
                navNotification.style.display = 'none';
            }
        }

        function startMessageNotificationCheck() {
            // Clear any existing interval
            if (messageCheckInterval) {
                clearInterval(messageCheckInterval);
            }
            
            // Check for new messages every 30 seconds
            messageCheckInterval = setInterval(async () => {
                if (currentUser) {
                    await loadUserMessages();
                    updateMessageNotifications();
                }
            }, 30000);
        }

        function stopMessageNotificationCheck() {
            if (messageCheckInterval) {
                clearInterval(messageCheckInterval);
                messageCheckInterval = null;
            }
        }

        // ====== CHAT NOTIFICATION FUNCTIONS ======
        function updateChatNotification() {
            if (!currentUser) return;
            
            let unreadCount = 0;
            
            if (currentChatSession && currentChatSession.messages) {
                unreadCount = currentChatSession.messages.filter(msg => 
                    msg.senderId !== currentUser.id && 
                    !msg.isRead
                ).length;
            }
            
            const chatNotification = document.getElementById('chatNotification');
            
            if (unreadCount > 0) {
                chatNotification.textContent = unreadCount;
                chatNotification.style.display = 'flex';
                
                // Make button pulse
                document.getElementById('liveChatBtn').classList.add('pulse');
            } else {
                chatNotification.style.display = 'none';
                document.getElementById('liveChatBtn').classList.remove('pulse');
            }
        }

        function startChatNotificationCheck() {
            // Clear any existing interval
            if (chatCheckInterval) {
                clearInterval(chatCheckInterval);
            }
            
            // Check for new chat messages every 15 seconds
            chatCheckInterval = setInterval(async () => {
                if (currentUser) {
                    await loadChatSessionsFromFirebase();
                    updateChatNotification();
                }
            }, 15000);
        }

        function stopChatNotificationCheck() {
            if (chatCheckInterval) {
                clearInterval(chatCheckInterval);
                chatCheckInterval = null;
            }
        }

        // ====== MODAL FUNCTIONS ======
        function showAuthModal(tab = 'login') {
            const modal = document.getElementById('authModal');
            modal.style.display = 'block';
            switchAuthTab(tab);
        }

        function switchAuthTab(tabName) {
            document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.auth-form').forEach(f => f.classList.remove('active'));
            
            document.querySelector(`.auth-tab[data-tab="${tabName}"]`).classList.add('active');
            document.getElementById(`${tabName}Form`).classList.add('active');
        }

        // ====== ADMIN DASHBOARD FUNCTIONS ======
        async function showAdminDashboard() {
            if (!currentUser || currentUser.role !== 'admin') {
                showAlert('Admin access required. Please login as administrator.', 'error');
                return;
            }
            
            showFirebaseLoading('Loading admin dashboard...');
            
            try {
                await loadAllUsers();
                await loadAllMessagesForAdmin();
                
                const modal = document.getElementById('adminModal');
                modal.style.display = 'block';
                switchAdminTab('users');
            } catch (error) {
                console.error('Error loading admin dashboard:', error);
                showAlert('Error loading admin dashboard. Please try again.', 'error');
            } finally {
                hideFirebaseLoading();
            }
        }

        async function loadAllMessagesForAdmin() {
            try {
                const messagesRef = database.ref(APP_CONFIG.DATABASE_PATHS.MESSAGES);
                const snapshot = await messagesRef.once('value');
                
                if (snapshot.exists()) {
                    const data = snapshot.val();
                    messages = Object.values(data).filter(msg => !msg.deleted);
                } else {
                    messages = [];
                }
            } catch (error) {
                console.error('Error loading all messages:', error);
            }
        }

        function switchAdminTab(tabName) {
            document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.admin-tab-content').forEach(c => c.classList.remove('active'));
            
            document.querySelector(`.admin-tab[data-tab="${tabName}"]`).classList.add('active');
            document.getElementById(`${tabName}Tab`).classList.add('active');
            
            switch(tabName) {
                case 'users':
                    loadAdminUsers();
                    break;
                case 'messages':
                    loadAllMessages();
                    break;
                case 'chatManagement':
                    loadChatSessions();
                    break;
                case 'announcements':
                    loadAdminAnnouncements();
                    break;
                case 'stats':
                    loadAdminStats();
                    break;
                case 'settings':
                    // Settings tab is already loaded
                    break;
            }
        }

        // ====== LIVE CHAT FUNCTIONS (Adapted for Firebase) ======
        async function toggleLiveChat() {
            const chatModal = document.getElementById('liveChatModal');
            
            if (chatModal.style.display === 'block') {
                chatModal.style.display = 'none';
            } else {
                chatModal.style.display = 'block';
                
                // Create or load chat session
                if (!currentChatSession) {
                    await createChatSession();
                } else {
                    loadChatMessages();
                    updateChatUserInfo();
                }
            }
        }

        async function createChatSession() {
            const chatId = `chat-${Date.now()}`;
            
            currentChatSession = {
                id: chatId,
                userId: currentUser ? currentUser.id : 'public',
                userName: currentUser ? currentUser.username : 'Guest',
                userEmail: currentUser ? currentUser.email : 'guest@system.lk',
                createdAt: new Date().toISOString(),
                messages: [],
                ended: false,
                adminJoined: false,
                adminId: null
            };
            
            // Add welcome message
            const welcomeMessage = {
                id: `msg-${Date.now()}`,
                senderId: 'system',
                senderName: 'SYSTEM.LK',
                content: currentUser && currentUser.role === 'admin' 
                    ? 'You are now in admin chat mode. Users can join your chat.'
                    : 'Welcome to SYSTEM.LK Live Chat! An admin will join you shortly. How can we help you today?',
                timestamp: new Date().toISOString(),
                isRead: true
            };
            
            currentChatSession.messages.push(welcomeMessage);
            
            // Save to Firebase
            await database.ref(`${APP_CONFIG.DATABASE_PATHS.CHATS}/${chatId}`).set(currentChatSession);
            
            // Store in localStorage
            localStorage.setItem(APP_CONFIG.STORAGE_KEYS.CURRENT_CHAT, JSON.stringify(currentChatSession));
            
            // Load messages
            loadChatMessages();
            updateChatUserInfo();
            
            // If user is admin, auto-join as admin
            if (currentUser && currentUser.role === 'admin') {
                currentChatSession.adminId = currentUser.id;
                currentChatSession.adminJoined = true;
                currentChatSession.adminJoinedAt = new Date().toISOString();
                
                const adminJoinMessage = {
                    id: `msg-${Date.now() + 1}`,
                    senderId: 'system',
                    senderName: 'SYSTEM.LK',
                    content: `${currentUser.username} (Admin) has joined the chat.`,
                    timestamp: new Date().toISOString(),
                    isRead: true
                };
                currentChatSession.messages.push(adminJoinMessage);
                
                await database.ref(`${APP_CONFIG.DATABASE_PATHS.CHATS}/${chatId}`).set(currentChatSession);
                localStorage.setItem(APP_CONFIG.STORAGE_KEYS.CURRENT_CHAT, JSON.stringify(currentChatSession));
                loadChatMessages();
            }
        }

        async function sendChatMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) {
                showAlert('Please enter a message', 'error');
                return;
            }
            
            // Check if user is logged in or is public user
            if (!currentUser && !currentChatSession) {
                showAlert('Please wait while we create your chat session...', 'info');
                await createChatSession();
                setTimeout(() => {
                    sendChatMessage();
                }, 500);
                return;
            }
            
            if (!currentChatSession) {
                await createChatSession();
            }
            
            const newMessage = {
                id: `msg-${Date.now()}`,
                senderId: currentUser ? currentUser.id : 'public',
                senderName: currentUser ? currentUser.username : 'Guest User',
                content: message,
                timestamp: new Date().toISOString(),
                isRead: false
            };
            
            currentChatSession.messages.push(newMessage);
            
            // Update in Firebase
            await database.ref(`${APP_CONFIG.DATABASE_PATHS.CHATS}/${currentChatSession.id}`).set(currentChatSession);
            
            // Store updated session
            localStorage.setItem(APP_CONFIG.STORAGE_KEYS.CURRENT_CHAT, JSON.stringify(currentChatSession));
            
            // Clear input and reload messages
            input.value = '';
            loadChatMessages();
            
            // If user is not admin and no admin has joined, notify admins
            if ((!currentUser || currentUser.role !== 'admin') && !currentChatSession.adminId) {
                notifyAdminsAboutNewMessage();
            }
        }

        // ====== NETWORK ANIMATION (Keep your existing code) ======
        function initializeNetworkAnimation() {
            const canvas = document.getElementById('networkCanvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            const nodes = [];
            const nodeCount = 80;
            const maxDistance = 150;

            class Node {
                constructor() {
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height;
                    this.vx = (Math.random() - 0.5) * 0.5;
                    this.vy = (Math.random() - 0.5) * 0.5;
                    this.radius = Math.random() * 2 + 1;
                }

                update() {
                    this.x += this.vx;
                    this.y += this.vy;

                    if (this.x < 0 || this.x > canvas.width) this.vx *= -1;
                    if (this.y < 0 || this.y > canvas.height) this.vy *= -1;
                }

                draw() {
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                    ctx.fillStyle = 'rgba(0, 217, 255, 0.8)';
                    ctx.fill();
                    
                    ctx.shadowBlur = 10;
                    ctx.shadowColor = 'rgba(0, 217, 255, 0.8)';
                    ctx.fill();
                    ctx.shadowBlur = 0;
                }
            }

            // Create nodes
            for (let i = 0; i < nodeCount; i++) {
                nodes.push(new Node());
            }

            // Mouse interaction
            let mouse = { x: null, y: null };
            window.addEventListener('mousemove', (e) => {
                mouse.x = e.x;
                mouse.y = e.y;
            });

            // Animation loop
            function animate() {
                ctx.fillStyle = 'rgba(10, 14, 23, 0.1)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                nodes.forEach(node => {
                    node.update();
                    node.draw();
                });

                // Draw connections
                for (let i = 0; i < nodes.length; i++) {
                    for (let j = i + 1; j < nodes.length; j++) {
                        const dx = nodes[i].x - nodes[j].x;
                        const dy = nodes[i].y - nodes[j].y;
                        const distance = Math.sqrt(dx * dx + dy * dy);

                        if (distance < maxDistance) {
                            const opacity = (1 - distance / maxDistance) * 0.5;
                            ctx.beginPath();
                            ctx.moveTo(nodes[i].x, nodes[i].y);
                            ctx.lineTo(nodes[j].x, nodes[j].y);
                            ctx.strokeStyle = `rgba(0, 217, 255, ${opacity})`;
                            ctx.lineWidth = 0.5;
                            ctx.stroke();
                        }
                    }

                    // Mouse interaction
                    if (mouse.x !== null) {
                        const dx = nodes[i].x - mouse.x;
                        const dy = nodes[i].y - mouse.y;
                        const distance = Math.sqrt(dx * dx + dy * dy);

                        if (distance < 200) {
                            ctx.beginPath();
                            ctx.moveTo(nodes[i].x, nodes[i].y);
                            ctx.lineTo(mouse.x, mouse.y);
                            const opacity = (1 - distance / 200) * 0.8;
                            ctx.strokeStyle = `rgba(0, 255, 136, ${opacity})`;
                            ctx.lineWidth = 1;
                            ctx.stroke();
                        }
                    }
                }

                requestAnimationFrame(animate);
            }

            animate();

            // Resize handler
            window.addEventListener('resize', () => {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            });
        }

        // ====== KEEP ALL YOUR OTHER EXISTING FUNCTIONS ======
        // Note: Some functions may need Firebase adaptation similar to above examples
        // For brevity, I'm keeping the structure but you should adapt them as needed
        
        // ... (Rest of your existing functions remain, with Firebase adaptations as needed) ...

        // Close mobile menu when clicking a link
        document.addEventListener('click', function(e) {
            if (e.target.closest('.nav-links a') && window.innerWidth <= 968) {
                const navLinks = document.getElementById('navLinks');
                const menuBtn = document.getElementById('mobileMenuBtn');
                navLinks.classList.remove('active');
                menuBtn.classList.remove('active');
            }
        });
    </script>
</body>
</html>
