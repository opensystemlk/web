<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SYSTEM.LK - Advanced Technology Solutions</title>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
    
    <style>
        /* ====== PAGE LOADING ANIMATION ====== */
        .page-loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0a0e17;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 99999;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }

        .page-loader.fade-out {
            opacity: 0;
            visibility: hidden;
        }

        .loader-content {
            text-align: center;
        }

        .loader-logo {
            font-size: 48px;
            font-weight: bold;
            letter-spacing: 4px;
            color: #c8ff00;
            text-shadow: 0 0 20px rgba(200, 255, 0, 0.5);
            margin-bottom: 20px;
        }

        .loader-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(200, 255, 0, 0.3);
            border-top: 4px solid #c8ff00;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loader-text {
            color: #a0a0a0;
            margin-top: 20px;
            font-size: 14px;
            letter-spacing: 2px;
        }

        /* ====== BASE STYLES ====== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0a0e17;
            color: #fff;
            overflow-x: hidden;
            position: relative;
        }

        /* Network Animation Canvas */
        #networkCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }

        /* All sections above network canvas */
        section, nav, footer, .fixed-social-buttons, .scroll-top {
            position: relative;
            z-index: 2;
        }

        /* ====== BEAUTIFUL ALERT STYLES ====== */
        .alert {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 20px 30px;
            border-radius: 15px;
            z-index: 10001;
            backdrop-filter: blur(20px);
            animation: slideIn 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            border: 1px solid;
            max-width: 450px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transform-origin: top right;
        }

        .alert-content {
            display: flex;
            align-items: flex-start;
            gap: 15px;
        }

        .alert-icon {
            font-size: 24px;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .alert-message {
            flex: 1;
            line-height: 1.6;
        }

        .alert-title {
            font-weight: 700;
            font-size: 16px;
            margin-bottom: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .alert-close {
            background: none;
            border: none;
            color: inherit;
            font-size: 20px;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.3s;
            padding: 0;
            line-height: 1;
        }

        .alert-close:hover {
            opacity: 1;
        }

        .alert.success {
            background: linear-gradient(135deg, rgba(0, 200, 83, 0.15) 0%, rgba(0, 200, 83, 0.05) 100%);
            color: #00C853;
            border-color: rgba(0, 200, 83, 0.3);
        }

        .alert.error {
            background: linear-gradient(135deg, rgba(255, 82, 82, 0.15) 0%, rgba(255, 82, 82, 0.05) 100%);
            color: #FF5252;
            border-color: rgba(255, 82, 82, 0.3);
        }

        .alert.info {
            background: linear-gradient(135deg, rgba(33, 150, 243, 0.15) 0%, rgba(33, 150, 243, 0.05) 100%);
            color: #2196F3;
            border-color: rgba(33, 150, 243, 0.3);
        }

        .alert.warning {
            background: linear-gradient(135deg, rgba(255, 193, 7, 0.15) 0%, rgba(255, 193, 7, 0.05) 100%);
            color: #FFC107;
            border-color: rgba(255, 193, 7, 0.3);
        }

        .alert.premium {
            background: linear-gradient(135deg, rgba(156, 39, 176, 0.15) 0%, rgba(156, 39, 176, 0.05) 100%);
            color: #9C27B0;
            border-color: rgba(156, 39, 176, 0.3);
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%) scale(0.8);
                opacity: 0;
            }
            to {
                transform: translateX(0) scale(1);
                opacity: 1;
            }
        }

        @keyframes fadeOut {
            from {
                transform: translateX(0) scale(1);
                opacity: 1;
            }
            to {
                transform: translateX(100%) scale(0.8);
                opacity: 0;
            }
        }

        /* ====== ANNOUNCEMENTS SECTION ====== */
        .announcements {
            padding: 80px 30px;
            background: linear-gradient(180deg, #0a0e17 0%, #151922 100%);
        }

        .announcements-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .announcements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .announcement-card {
            background: rgba(255, 255, 255, 0.02);
            padding: 30px;
            border-radius: 15px;
            border: 1px solid rgba(200, 255, 0, 0.15);
            transition: all 0.3s;
        }

        .announcement-card:hover {
            transform: translateY(-5px);
            border-color: #c8ff00;
            box-shadow: 0 10px 30px rgba(200, 255, 0, 0.15);
        }

        .announcement-badge {
            display: inline-block;
            padding: 5px 15px;
            background: rgba(255, 68, 68, 0.2);
            color: #ff4444;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 15px;
            letter-spacing: 1px;
        }

        .announcement-date {
            color: #a0a0a0;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .announcement-title {
            color: #fff;
            font-size: 20px;
            margin-bottom: 15px;
        }

        .announcement-content {
            color: #a0a0a0;
            line-height: 1.6;
        }

        /* ====== LIVE CHAT STYLES ====== */
        .live-chat-btn {
            position: fixed;
            bottom: 30px;
            left: 30px;
            z-index: 9998;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #00C853 0%, #00E676 100%);
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(0, 200, 83, 0.4);
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .live-chat-btn.pulse {
            animation: chatPulse 2s infinite;
        }

        @keyframes chatPulse {
            0%, 100% {
                box-shadow: 0 8px 25px rgba(0, 200, 83, 0.4);
            }
            50% {
                box-shadow: 0 8px 35px rgba(0, 200, 83, 0.8);
            }
        }

        .live-chat-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #FF5252;
            color: white;
            font-size: 12px;
            font-weight: bold;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .live-chat-modal {
            display: none;
            position: fixed;
            bottom: 100px;
            left: 30px;
            width: 380px;
            height: 500px;
            background: rgba(10, 14, 23, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            border: 1px solid rgba(0, 200, 83, 0.3);
            z-index: 10000;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            overflow: hidden;
        }

        .chat-header {
            background: linear-gradient(135deg, rgba(0, 200, 83, 0.2) 0%, rgba(0, 200, 83, 0.1) 100%);
            padding: 20px;
            border-bottom: 1px solid rgba(0, 200, 83, 0.3);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-header h3 {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #00C853;
        }

        .chat-user-info {
            font-size: 12px;
            color: #a0a0a0;
            margin-top: 5px;
        }

        .chat-status {
            font-size: 12px;
            padding: 4px 10px;
            border-radius: 12px;
            background: rgba(0, 200, 83, 0.2);
            color: #00C853;
        }

        .chat-body {
            height: calc(100% - 130px);
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .chat-message {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 18px;
            position: relative;
            animation: messageSlide 0.3s ease;
        }

        @keyframes messageSlide {
            from {
                transform: translateY(10px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .chat-message.received {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            align-self: flex-start;
            border-bottom-left-radius: 5px;
        }

        .chat-message.sent {
            background: linear-gradient(135deg, rgba(0, 200, 83, 0.2) 0%, rgba(0, 200, 83, 0.1) 100%);
            border: 1px solid rgba(0, 200, 83, 0.3);
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }

        .message-sender {
            font-size: 12px;
            color: #00C853;
            margin-bottom: 4px;
            font-weight: 600;
        }

        .message-time {
            font-size: 10px;
            color: rgba(255, 255, 255, 0.4);
            text-align: right;
            margin-top: 5px;
        }

        .chat-input {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 20px;
            background: rgba(10, 14, 23, 0.8);
            border-top: 1px solid rgba(0, 200, 83, 0.2);
            display: flex;
            gap: 10px;
        }

        .chat-input input {
            flex: 1;
            padding: 12px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(0, 200, 83, 0.2);
            border-radius: 25px;
            color: white;
            font-family: inherit;
        }

        .chat-input input:focus {
            outline: none;
            border-color: #00C853;
        }

        .chat-input button {
            background: linear-gradient(135deg, #00C853 0%, #00E676 100%);
            border: none;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            color: white;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .chat-input button:hover {
            transform: scale(1.1);
        }

        /* ====== AUTH MODAL STYLES ====== */
        .modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
        }

        .modal-content {
            background: #0a0e17;
            margin: 5% auto;
            padding: 40px;
            border-radius: 20px;
            width: 90%;
            max-width: 500px;
            border: 1px solid rgba(200, 255, 0, 0.2);
            position: relative;
        }

        .admin-modal {
            max-width: 1200px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .close-modal {
            position: absolute;
            right: 20px;
            top: 20px;
            font-size: 28px;
            cursor: pointer;
            color: #c8ff00;
            background: none;
            border: none;
        }

        .close-modal:hover {
            color: #ff4444;
        }

        .auth-tabs {
            display: flex;
            margin-bottom: 30px;
            border-bottom: 1px solid rgba(200, 255, 0, 0.2);
        }

        .auth-tab {
            padding: 15px 30px;
            background: none;
            border: none;
            color: #a0a0a0;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
        }

        .auth-tab:hover {
            color: #fff;
        }

        .auth-tab.active {
            color: #c8ff00;
            border-bottom-color: #c8ff00;
        }

        .auth-form {
            display: none;
        }

        .auth-form.active {
            display: block;
        }

        .auth-form h3 {
            margin-bottom: 30px;
            color: #fff;
            text-align: center;
        }

        .auth-form .form-group {
            margin-bottom: 25px;
        }

        .auth-form input {
            width: 100%;
            padding: 15px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(200, 255, 0, 0.2);
            border-radius: 10px;
            color: #fff;
            font-size: 16px;
            font-family: inherit;
            transition: all 0.3s;
        }

        .auth-form input:focus {
            outline: none;
            border-color: #c8ff00;
            background: rgba(255, 255, 255, 0.05);
            box-shadow: 0 0 20px rgba(200, 255, 0, 0.1);
        }

        /* Auth Buttons in Nav */
        .auth-buttons {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .user-menu {
            display: none;
            align-items: center;
            gap: 15px;
        }

        .user-info {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
        }

        .user-username {
            color: #00d9ff;
            font-weight: 600;
            font-size: 14px;
        }

        .user-role {
            color: #ffaa00;
            font-size: 12px;
            margin-top: 2px;
        }

        /* Notification Badge */
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #FF5252;
            color: white;
            font-size: 11px;
            font-weight: bold;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        /* ====== ADMIN DASHBOARD ====== */
        .admin-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 1px solid rgba(200, 255, 0, 0.2);
            padding-bottom: 10px;
            flex-wrap: wrap;
        }

        .admin-tab {
            padding: 12px 25px;
            background: rgba(200, 255, 0, 0.1);
            border: none;
            border-radius: 8px;
            color: #a0a0a0;
            cursor: pointer;
            transition: all 0.3s;
            font-family: inherit;
            font-size: 14px;
        }

        .admin-tab:hover {
            background: rgba(200, 255, 0, 0.2);
            color: #fff;
        }

        .admin-tab.active {
            background: rgba(200, 255, 0, 0.2);
            color: #c8ff00;
        }

        .admin-tab-content {
            display: none;
        }

        .admin-tab-content.active {
            display: block;
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .users-list, .messages-list, .chats-list {
            display: grid;
            gap: 15px;
        }

        .user-card, .message-card, .chat-card {
            background: rgba(255, 255, 255, 0.02);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid rgba(200, 255, 0, 0.1);
            transition: all 0.3s;
        }

        .user-card:hover, .message-card:hover, .chat-card:hover {
            border-color: #c8ff00;
            transform: translateY(-2px);
        }

        .user-header, .message-header, .chat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .user-header h4, .message-header h4, .chat-header h4 {
            color: #c8ff00;
            margin-bottom: 5px;
        }

        .user-header small, .message-header small, .chat-header small {
            color: #a0a0a0;
            font-size: 12px;
        }

        .user-actions, .message-actions, .chat-actions {
            display: flex;
            gap: 10px;
        }

        .action-btn {
            padding: 8px 15px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            font-family: inherit;
        }

        .edit-btn {
            background: rgba(200, 255, 0, 0.1);
            color: #c8ff00;
        }

        .edit-btn:hover {
            background: rgba(200, 255, 0, 0.2);
        }

        .delete-btn {
            background: rgba(255, 68, 68, 0.1);
            color: #ff4444;
        }

        .delete-btn:hover {
            background: rgba(255, 68, 68, 0.2);
        }

        .join-btn {
            background: rgba(0, 200, 83, 0.1);
            color: #00C853;
        }

        .join-btn:hover {
            background: rgba(0, 200, 83, 0.2);
        }

        .danger-btn {
            background: rgba(255, 68, 68, 0.2);
            color: #ff4444;
            border: 1px solid rgba(255, 68, 68, 0.3);
        }

        .danger-btn:hover {
            background: rgba(255, 68, 68, 0.3);
        }

        /* ====== MESSAGES INTERFACE ====== */
        .messages-interface {
            background: rgba(255, 255, 255, 0.02);
            padding: 30px;
            border-radius: 20px;
            border: 1px solid rgba(200, 255, 0, 0.2);
            margin-top: 30px;
        }

        .messages-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .messages-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
            border-bottom: 1px solid rgba(200, 255, 0, 0.2);
            padding-bottom: 10px;
        }

        .message-tab {
            padding: 10px 20px;
            background: none;
            border: none;
            color: #a0a0a0;
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.3s;
        }

        .message-tab:hover {
            background: rgba(200, 255, 0, 0.1);
        }

        .message-tab.active {
            background: rgba(200, 255, 0, 0.2);
            color: #c8ff00;
        }

        .messages-container {
            min-height: 300px;
        }

        .message-thread {
            max-height: 400px;
            overflow-y: auto;
            margin-bottom: 25px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.01);
            border-radius: 10px;
            border: 1px solid rgba(200, 255, 0, 0.1);
        }

        .thread-message {
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.01);
            border-radius: 8px;
            border-left: 3px solid #c8ff00;
        }

        .thread-message.own {
            border-left-color: #00ff88;
        }

        .message-sender {
            font-weight: bold;
            color: #c8ff00;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .message-time {
            font-size: 12px;
            color: #666;
            font-weight: normal;
        }

        .message-content {
            color: #a0a0a0;
            line-height: 1.6;
            white-space: pre-wrap;
        }

        .reply-form {
            margin-top: 30px;
        }

        .reply-form textarea {
            width: 100%;
            padding: 15px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(200, 255, 0, 0.2);
            border-radius: 10px;
            color: #fff;
            font-size: 16px;
            font-family: inherit;
            margin-bottom: 15px;
            resize: vertical;
            min-height: 120px;
        }

        /* New Message Form */
        .new-message-form {
            background: rgba(255, 255, 255, 0.02);
            padding: 30px;
            border-radius: 15px;
            border: 1px solid rgba(200, 255, 0, 0.1);
        }

        .new-message-form h3 {
            margin-bottom: 25px;
            color: #c8ff00;
        }

        .new-message-form .form-group {
            margin-bottom: 20px;
        }

        .new-message-form select,
        .new-message-form input,
        .new-message-form textarea {
            width: 100%;
            padding: 12px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(200, 255, 0, 0.2);
            border-radius: 8px;
            color: #fff;
            font-family: inherit;
        }

        .new-message-form select:focus,
        .new-message-form input:focus,
        .new-message-form textarea:focus {
            outline: none;
            border-color: #c8ff00;
            background: rgba(255, 255, 255, 0.05);
        }

        .form-actions {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }

        /* ====== FORM CONTROLS ====== */
        .form-control {
            width: 100%;
            padding: 12px 15px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(200, 255, 0, 0.2);
            border-radius: 8px;
            color: #fff;
            font-family: inherit;
            font-size: 14px;
            transition: all 0.3s;
        }

        .form-control:focus {
            outline: none;
            border-color: #c8ff00;
            background: rgba(255, 255, 255, 0.05);
            box-shadow: 0 0 15px rgba(200, 255, 0, 0.1);
        }

        /* Add User Form */
        .add-user-form {
            background: rgba(255, 255, 255, 0.02);
            padding: 25px;
            border-radius: 15px;
            border: 1px solid rgba(200, 255, 0, 0.2);
            margin-top: 20px;
        }

        .add-user-form h4 {
            margin-bottom: 20px;
            color: #c8ff00;
        }

        .add-user-form .form-group {
            margin-bottom: 15px;
        }

        /* ====== TESTIMONIALS SECTION ====== */
        .testimonials {
            padding: 120px 80px;
            background: linear-gradient(180deg, #0a0e17 0%, #151922 100%);
        }

        .testimonials-slider {
            display: flex;
            gap: 30px;
            overflow-x: auto;
            padding: 20px 0;
            scrollbar-width: thin;
            scrollbar-color: #c8ff00 #0a0e17;
        }

        .testimonials-slider::-webkit-scrollbar {
            height: 8px;
        }

        .testimonials-slider::-webkit-scrollbar-track {
            background: #0a0e17;
            border-radius: 4px;
        }

        .testimonials-slider::-webkit-scrollbar-thumb {
            background: #c8ff00;
            border-radius: 4px;
        }

        .testimonial-card {
            min-width: 350px;
            background: rgba(255, 255, 255, 0.02);
            padding: 35px;
            border-radius: 20px;
            border: 1px solid rgba(200, 255, 0, 0.15);
            transition: all 0.4s;
        }

        .testimonial-card:hover {
            transform: translateY(-5px);
            border-color: #c8ff00;
            box-shadow: 0 15px 40px rgba(200, 255, 0, 0.15);
        }

        .testimonial-rating {
            color: #FFC107;
            font-size: 20px;
            margin-bottom: 20px;
        }

        .testimonial-content {
            font-size: 17px;
            color: #a0a0a0;
            line-height: 1.8;
            margin-bottom: 25px;
            font-style: italic;
        }

        .testimonial-author {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .author-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #c8ff00 0%, #95bc00 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #0a0e17;
            font-size: 18px;
        }

        .author-info h4 {
            color: #fff;
            margin-bottom: 5px;
        }

        .author-info p {
            color: #a0a0a0;
            font-size: 14px;
        }

        /* ====== ORIGINAL STYLES ====== */
        /* Fixed Social Media Buttons */
        .fixed-social-buttons {
            position: fixed;
            right: 30px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 9998;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .social-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .social-btn:hover {
            transform: scale(1.15);
            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.5);
        }

        .social-btn svg {
            width: 24px;
            height: 24px;
            fill: #fff;
        }

        .facebook-btn {
            background: linear-gradient(135deg, #1877f2 0%, #0d5fc9 100%);
        }

        .instagram-btn {
            background: linear-gradient(135deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
        }

        .tiktok-btn {
            background: linear-gradient(135deg, #000000 0%, #333333 100%);
        }

        .twitter-btn {
            background: linear-gradient(135deg, #1da1f2 0%, #0d8bd9 100%);
        }

        .youtube-btn {
            background: linear-gradient(135deg, #ff0000 0%, #cc0000 100%);
        }

        .email-btn {
            background: linear-gradient(135deg, #c8ff00 0%, #95bc00 100%);
        }

        .whatsapp-btn {
            background: linear-gradient(135deg, #25d366 0%, #1da851 100%);
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 80px;
            background: rgba(10, 14, 23, 0.98);
            backdrop-filter: blur(10px);
            z-index: 9999;
            border-bottom: 1px solid rgba(200, 255, 0, 0.15);
            transition: all 0.3s ease;
        }

        nav.scrolled {
            padding: 15px 80px;
            box-shadow: 0 5px 30px rgba(0, 0, 0, 0.5);
        }

        .logo {
            font-size: 28px;
            font-weight: bold;
            letter-spacing: 4px;
            color: #c8ff00;
            text-shadow: 0 0 20px rgba(200, 255, 0, 0.5);
            cursor: pointer;
        }

        .nav-links {
            display: flex;
            gap: 40px;
            list-style: none;
            align-items: center;
        }

        .nav-links li {
            position: relative;
        }

        .nav-links a {
            color: #fff;
            text-decoration: none;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            font-weight: 600;
            transition: all 0.3s;
            position: relative;
            display: block;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: #c8ff00;
            transition: width 0.3s;
        }

        .nav-links a:hover {
            color: #c8ff00;
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        /* Live Link Style */
        .live-link {
            color: #ff4444 !important;
            font-weight: bold;
            animation: livePulse 2s ease-in-out infinite;
        }

        @keyframes livePulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.6;
            }
        }

        .live-link::after {
            background: #ff4444 !important;
        }

        /* Dropdown Menu */
        .has-dropdown {
            position: relative;
        }

        .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            background: rgba(10, 14, 23, 0.98);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(200, 255, 0, 0.2);
            border-radius: 10px;
            padding: 10px 0;
            min-width: 200px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s;
            z-index: 10000;
            margin-top: 10px;
        }

        .has-dropdown:hover .dropdown-menu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-menu li {
            list-style: none;
        }

        .dropdown-menu a {
            padding: 12px 20px;
            display: block;
            font-size: 13px;
            color: #a0a0a0;
            transition: all 0.3s;
        }

        .dropdown-menu a:hover {
            background: rgba(200, 255, 0, 0.1);
            color: #c8ff00;
            padding-left: 25px;
        }

        .dropdown-menu a::after {
            display: none;
        }

        .cta-btn {
            background: linear-gradient(135deg, #c8ff00 0%, #95bc00 100%);
            color: #0a0e17;
            padding: 14px 35px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            transition: all 0.3s;
            font-size: 13px;
            box-shadow: 0 5px 20px rgba(200, 255, 0, 0.3);
            border: none;
            cursor: pointer;
        }

        .cta-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(200, 255, 0, 0.5);
        }

        /* Mobile Menu Button */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            cursor: pointer;
            flex-direction: column;
            gap: 5px;
        }

        .mobile-menu-btn span {
            width: 30px;
            height: 3px;
            background: #c8ff00;
            transition: all 0.3s;
            border-radius: 2px;
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 120px 80px 60px;
            position: relative;
        }

        .hero-content {
            flex: 1;
            max-width: 650px;
        }

        .hero-tagline {
            font-size: 13px;
            letter-spacing: 4px;
            color: #c8ff00;
            margin-bottom: 25px;
            text-transform: uppercase;
            font-weight: 600;
        }

        .hero h1 {
            font-size: 72px;
            font-weight: 900;
            margin-bottom: 25px;
            line-height: 1.1;
            background: linear-gradient(135deg, #fff 0%, #c8ff00 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero p {
            font-size: 19px;
            color: #b0b0b0;
            margin-bottom: 45px;
            line-height: 1.7;
        }

        .hero-buttons {
            display: flex;
            gap: 20px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #c8ff00 0%, #95bc00 100%);
            color: #0a0e17;
            padding: 16px 40px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            transition: all 0.3s;
            font-size: 14px;
            box-shadow: 0 5px 20px rgba(200, 255, 0, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(200, 255, 0, 0.5);
        }

        .btn-secondary {
            background: transparent;
            color: #fff;
            padding: 16px 40px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            transition: all 0.3s;
            font-size: 14px;
            border: 2px solid rgba(200, 255, 0, 0.5);
        }

        .btn-secondary:hover {
            background: rgba(200, 255, 0, 0.1);
            border-color: #c8ff00;
            transform: translateY(-3px);
        }

        .hero-visual {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .circle-container {
            position: relative;
            width: 450px;
            height: 450px;
            animation: rotate 25s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .circle {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border-radius: 50%;
        }

        .circle-outer {
            width: 450px;
            height: 450px;
            border: 4px solid #c8ff00;
            border-top-color: transparent;
            box-shadow: 0 0 50px rgba(200, 255, 0, 0.3);
        }

        .circle-middle {
            width: 350px;
            height: 350px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-right-color: transparent;
            animation: rotate 20s linear infinite reverse;
        }

        .circle-inner {
            width: 250px;
            height: 250px;
            border: 2px solid #c8ff00;
            border-bottom-color: transparent;
            animation: rotate 15s linear infinite;
        }

        .central-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 100px;
            animation: pulse 2.5s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { 
                transform: translate(-50%, -50%) scale(1);
                filter: drop-shadow(0 0 20px rgba(200, 255, 0, 0.5));
            }
            50% { 
                transform: translate(-50%, -50%) scale(1.15);
                filter: drop-shadow(0 0 40px rgba(200, 255, 0, 0.8));
            }
        }

        /* Services Section */
        .services {
            padding: 120px 80px;
            background: linear-gradient(180deg, #0a0e17 0%, #151922 50%, #0a0e17 100%);
        }

        .section-header {
            text-align: center;
            margin-bottom: 80px;
        }

        .section-tag {
            font-size: 13px;
            letter-spacing: 3px;
            color: #c8ff00;
            margin-bottom: 15px;
            text-transform: uppercase;
            font-weight: 600;
        }

        .section-title {
            font-size: 52px;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #fff 0%, #c8ff00 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .section-description {
            font-size: 18px;
            color: #a0a0a0;
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.8;
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 35px;
        }

        .service-card {
            background: rgba(255, 255, 255, 0.02);
            padding: 45px;
            border-radius: 20px;
            border: 1px solid rgba(200, 255, 0, 0.15);
            transition: all 0.4s;
        }

        .service-card:hover {
            transform: translateY(-10px);
            border-color: #c8ff00;
            box-shadow: 0 20px 50px rgba(200, 255, 0, 0.2);
        }

        .service-icon {
            font-size: 48px;
            margin-bottom: 25px;
        }

        .service-card h3 {
            font-size: 26px;
            margin-bottom: 18px;
            color: #c8ff00;
        }

        .service-card p {
            color: #a0a0a0;
            line-height: 1.8;
        }

        /* About Section */
        .about {
            padding: 120px 80px;
            background: linear-gradient(180deg, #0a0e17 0%, #151922 100%);
            display: flex;
            align-items: center;
            gap: 80px;
        }

        .about-content {
            flex: 1;
        }

        .about-content h2 {
            font-size: 52px;
            margin-bottom: 30px;
            background: linear-gradient(135deg, #fff 0%, #c8ff00 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .about-content p {
            font-size: 18px;
            color: #a0a0a0;
            line-height: 1.9;
            margin-bottom: 25px;
        }

        .about-visual {
            flex: 1;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
        }

        .stat-card {
            text-align: center;
            padding: 40px;
            background: rgba(200, 255, 0, 0.05);
            border-radius: 15px;
            border: 1px solid rgba(200, 255, 0, 0.2);
            transition: all 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            border-color: #c8ff00;
            box-shadow: 0 10px 30px rgba(200, 255, 0, 0.2);
        }

        .stat-number {
            font-size: 52px;
            font-weight: bold;
            color: #c8ff00;
            margin-bottom: 10px;
        }

        .stat-label {
            color: #a0a0a0;
            font-size: 16px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Contact Section */
        .contact {
            padding: 120px 80px;
            background: #0a0e17;
        }

        .contact-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            margin-top: 60px;
        }

        .contact-info {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        .contact-item {
            display: flex;
            align-items: flex-start;
            gap: 20px;
            padding: 25px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 15px;
            border: 1px solid rgba(200, 255, 0, 0.15);
            transition: all 0.3s;
        }

        .contact-item:hover {
            border-color: #c8ff00;
            transform: translateX(10px);
        }

        .contact-icon {
            font-size: 32px;
            color: #c8ff00;
        }

        .contact-details h4 {
            color: #fff;
            font-size: 18px;
            margin-bottom: 8px;
        }

        .contact-details p {
            color: #a0a0a0;
            font-size: 16px;
        }

        .contact-form {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .form-group label {
            color: #a0a0a0;
            font-size: 14px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .form-group input,
        .form-group textarea {
            padding: 16px 20px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(200, 255, 0, 0.2);
            border-radius: 10px;
            color: #fff;
            font-size: 16px;
            font-family: inherit;
            transition: all 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #c8ff00;
            background: rgba(255, 255, 255, 0.05);
            box-shadow: 0 0 20px rgba(200, 255, 0, 0.1);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 150px;
        }

        .submit-btn {
            padding: 18px;
            background: linear-gradient(135deg, #c8ff00 0%, #95bc00 100%);
            color: #0a0e17;
            border: none;
            border-radius: 10px;
            font-weight: bold;
            font-size: 16px;
            text-transform: uppercase;
            letter-spacing: 2px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(200, 255, 0, 0.4);
        }

        /* Footer */
        footer {
            padding: 60px 80px 30px;
            background: #000;
            border-top: 1px solid rgba(200, 255, 0, 0.2);
        }

        .footer-content {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            gap: 50px;
            margin-bottom: 50px;
        }

        .footer-section h3 {
            color: #c8ff00;
            font-size: 20px;
            margin-bottom: 20px;
        }

        .footer-section p {
            color: #a0a0a0;
            line-height: 1.8;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 12px;
        }

        .footer-links a {
            color: #a0a0a0;
            text-decoration: none;
            font-size: 15px;
            transition: all 0.3s;
        }

        .footer-links a:hover {
            color: #c8ff00;
            padding-left: 5px;
        }

        .social-links {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .social-links a {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            transition: all 0.3s;
        }

        .social-links a:hover {
            transform: translateY(-5px);
        }

        .social-links a svg {
            width: 20px;
            height: 20px;
            fill: #fff;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(200, 255, 0, 0.1);
            color: #a0a0a0;
        }

        /* Scroll to Top */
        .scroll-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: #c8ff00;
            color: #0a0e17;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: none;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            z-index: 999;
            transition: all 0.3s;
            box-shadow: 0 5px 20px rgba(200, 255, 0, 0.4);
        }

        .scroll-top:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(200, 255, 0, 0.6);
        }

        .scroll-top.show {
            display: flex;
        }

        /* ====== RESPONSIVE DESIGN ====== */
        @media (max-width: 968px) {
            /* Page Loader */
            .loader-logo {
                font-size: 36px;
            }
            
            .loader-spinner {
                width: 50px;
                height: 50px;
            }
            
            /* Chat System */
            .live-chat-modal {
                width: calc(100% - 60px);
                left: 30px;
                bottom: 100px;
            }
            
            .live-chat-btn {
                left: 20px;
                bottom: 20px;
            }
            
            /* Auth System */
            .auth-buttons {
                display: none;
            }
            
            .user-menu {
                display: none !important;
            }
            
            /* Testimonials */
            .testimonials {
                padding: 80px 30px;
            }
            
            .testimonial-card {
                min-width: 280px;
            }
            
            .modal-content {
                width: 95%;
                padding: 30px 20px;
                margin: 10% auto;
            }
            
            .admin-modal {
                width: 95%;
                padding: 20px 15px;
            }
            
            .admin-tabs {
                flex-wrap: wrap;
            }
            
            .admin-header {
                flex-direction: column;
                gap: 15px;
                align-items: flex-start;
            }
            
            .user-header, .message-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .user-actions, .message-actions {
                width: 100%;
                justify-content: flex-end;
            }
            
            .messages-header {
                flex-direction: column;
                gap: 15px;
                align-items: flex-start;
            }
            
            /* Announcements */
            .announcements {
                padding: 60px 20px;
            }
            
            .announcements-grid {
                grid-template-columns: 1fr;
            }
            
            /* Original Responsive Styles */
            .fixed-social-buttons {
                right: 15px;
                gap: 10px;
            }

            .social-btn {
                width: 45px;
                height: 45px;
            }

            .social-btn svg {
                width: 20px;
                height: 20px;
            }

            nav {
                padding: 20px 30px;
            }

            .nav-links {
                position: fixed;
                top: 80px;
                right: -100%;
                width: 300px;
                height: calc(100vh - 80px);
                background: rgba(10, 14, 23, 0.98);
                backdrop-filter: blur(20px);
                flex-direction: column;
                padding: 40px;
                gap: 30px;
                transition: right 0.4s ease;
                border-left: 1px solid rgba(200, 255, 0, 0.2);
                align-items: flex-start;
            }

            .nav-links.active {
                right: 0;
            }

            .mobile-menu-btn {
                display: flex;
            }

            .hero {
                flex-direction: column;
                padding: 100px 30px 60px;
                text-align: center;
            }

            .hero h1 {
                font-size: 48px;
            }

            .hero-buttons {
                flex-direction: column;
            }

            .circle-container {
                width: 300px;
                height: 300px;
                margin-top: 40px;
            }

            .circle-outer {
                width: 300px;
                height: 300px;
            }

            .circle-middle {
                width: 230px;
                height: 230px;
            }

            .circle-inner {
                width: 160px;
                height: 160px;
            }

            .central-icon {
                font-size: 60px;
            }

            .services, .about, .contact {
                padding: 80px 30px;
            }

            .services-grid {
                grid-template-columns: 1fr;
            }

            .about {
                flex-direction: column;
            }

            .contact-container {
                grid-template-columns: 1fr;
            }

            .footer-content {
                grid-template-columns: 1fr;
            }

            footer {
                padding: 60px 30px 30px;
            }
        }
    </style>
</head>
<body>
    <!-- Page Loading Animation -->
    <div class="page-loader" id="pageLoader">
        <div class="loader-content">
            <div class="loader-logo">SYSTEM.LK</div>
            <div class="loader-spinner"></div>
            <div class="loader-text">Loading Advanced Technology Solutions...</div>
        </div>
    </div>

    <!-- Network Animation Canvas -->
    <canvas id="networkCanvas"></canvas>

    <!-- Auth Modal -->
    <div id="authModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="auth-tabs">
                <button class="auth-tab active" data-tab="login">Login</button>
                <button class="auth-tab" data-tab="register">Create Account</button>
            </div>
            
            <form id="loginForm" class="auth-form active">
                <h3>Login to SYSTEM.LK</h3>
                <div class="form-group">
                    <input type="email" id="loginEmail" placeholder="Email" required>
                </div>
                <div class="form-group">
                    <input type="password" id="loginPassword" placeholder="Password" required>
                </div>
                <button type="submit" class="submit-btn">Login</button>
                <p style="margin-top: 20px; color: #a0a0a0; text-align: center; font-size: 14px;">
                    Don't have an account? <a href="#" onClick="switchAuthTab('register')" style="color: #c8ff00;">Create one</a>
                </p>
            </form>
            
            <form id="registerForm" class="auth-form">
                <h3>Create Account</h3>
                <div class="form-group">
                    <input type="text" id="regUsername" placeholder="Username" required>
                </div>
                <div class="form-group">
                    <input type="email" id="regEmail" placeholder="Email" required>
                </div>
                <div class="form-group">
                    <input type="password" id="regPassword" placeholder="Password" required>
                </div>
                <div class="form-group">
                    <input type="text" id="regCountry" placeholder="Country" required>
                </div>
                <button type="submit" class="submit-btn">Create Account</button>
                <p style="margin-top: 20px; color: #a0a0a0; text-align: center; font-size: 14px;">
                    Already have an account? <a href="#" onClick="switchAuthTab('login')" style="color: #c8ff00;">Login</a>
                </p>
            </form>
        </div>
    </div>

    <!-- Admin Dashboard Modal -->
    <div id="adminModal" class="modal">
        <div class="modal-content admin-modal">
            <span class="close-modal">&times;</span>
            <h2>Admin Dashboard</h2>
            
            <div class="admin-tabs">
                <button class="admin-tab active" data-tab="users">Manage Users</button>
                <button class="admin-tab" data-tab="messages">All Messages</button>
                <button class="admin-tab" data-tab="chatManagement">Live Chat Management</button>
                <button class="admin-tab" data-tab="announcements"> Announcements</button>
                <button class="admin-tab" data-tab="stats">Statistics</button>
                <button class="admin-tab" data-tab="settings">Settings</button>
            </div>
            
            <div id="usersTab" class="admin-tab-content active">
                <div class="admin-header">
                    <h3>User Management</h3>
                    <button class="btn-primary" onClick="showAddUserForm()">Add New User</button>
                </div>
                <div id="usersList" class="users-list"></div>
            </div>
            
            <div id="messagesTab" class="admin-tab-content">
                <div class="admin-header">
                    <h3>All Messages</h3>
                    <div style="display: flex; gap: 15px;">
                        <button class="btn-primary" onClick="refreshAllMessages()">Refresh</button>
                        <button class="danger-btn" onClick="deleteAllMessages()">Delete All Messages</button>
                    </div>
                </div>
                <div id="allMessagesList" class="messages-list"></div>
            </div>
            
            <div id="chatManagementTab" class="admin-tab-content">
                <div class="admin-header">
                    <h3>Live Chat Management</h3>
                    <button class="btn-primary" onClick="refreshChatSessions()">Refresh Chats</button>
                </div>
                <div id="chatsList" class="chats-list">
                    <!-- Chat sessions will be loaded here -->
                </div>
            </div>
            
            <div id="announcementsTab" class="admin-tab-content">
                <div class="admin-header">
                    <h3>Announcements Management</h3>
                    <button class="btn-primary" onClick="showAddAnnouncementForm()">Add New Announcement</button>
                </div>
                <div id="announcementsList" class="messages-list"></div>
            </div>
            
            <div id="statsTab" class="admin-tab-content">
                <h3>System Statistics</h3>
                <div class="stats-grid" id="adminStats"></div>
            </div>
            
            <div id="settingsTab" class="admin-tab-content">
                <h3>Admin Settings</h3>
                <div class="add-user-form">
                    <h4>Change Admin Password</h4>
                    <div class="form-group">
                        <label>Current Password</label>
                        <input type="password" id="currentPassword" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label>New Password</label>
                        <input type="password" id="newAdminPassword" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label>Confirm New Password</label>
                        <input type="password" id="confirmAdminPassword" class="form-control" required>
                    </div>
                    <div class="form-actions">
                        <button onClick="changeAdminPassword()" class="btn-primary">Change Password</button>
                        <button onClick="switchAdminTab('users')" class="btn-secondary">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Live Chat Button -->
    <button class="live-chat-btn pulse" id="liveChatBtn" onClick="toggleLiveChat()">
        
        <span class="live-chat-badge" id="chatNotification" style="display: none;">0</span>
    </button>

    <!-- Live Chat Modal -->
    <div class="live-chat-modal" id="liveChatModal">
        <div class="chat-header">
            <div>
                <h3> Live Chat Support</h3>
                <div class="chat-user-info" id="chatUserInfo">
                    <!-- User info will appear here -->
                </div>
            </div>
            <span class="chat-status" id="chatStatus">Online</span>
            <button class="chat-close" onClick="closeLiveChat()" style="background: none; border: none; color: #ff4444; cursor: pointer; font-size: 18px; margin-left: 10px;"></button>
        </div>
        <div class="chat-body" id="chatBody">
            <!-- Chat messages will appear here -->
        </div>
        <div class="chat-input">
            <input type="text" id="chatInput" placeholder="Type your message..." onKeyPress="handleChatKeyPress(event)">
            <button id="sendChatBtn" onClick="sendChatMessage()"></button>
        </div>
    </div>

    <!-- Navigation -->
    <nav id="navbar">
        <div class="logo" onClick="scrollToTop()">SYSTEM.LK</div>
        <ul class="nav-links" id="navLinks">
            <!-- HOME removed as requested -->
            <li id="featuresNavItem" class="has-dropdown" style="display: none;">
                <a href="#features">Features</a>
                <ul class="dropdown-menu">
                    <li><a href="#features">Fast Delivery</a></li>
                    <li><a href="#features">Precision & Quality</a></li>
                    <li><a href="#features">Innovation First</a></li>
                    <li><a href="#features">Secure & Reliable</a></li>
                    <li><a href="#features">Cost Effective</a></li>
                    <li><a href="#features">24/7 Support</a></li>
                </ul>
            </li>
            <li id="servicesNavItem" class="has-dropdown" style="display: none;">
                <a href="#services">Services</a>
                <ul class="dropdown-menu">
                    <li><a href="#services">Software Development</a></li>
                    <li><a href="#services">Cloud Solutions</a></li>
                    <li><a href="#services">Cybersecurity</a></li>
                    <li><a href="#services">AI & Machine Learning</a></li>
                    <li><a href="#services">Data Analytics</a></li>
                    <li><a href="#services">UI/UX Design</a></li>
                </ul>
            </li>
            <li id="productsNavItem" class="has-dropdown" style="display: none;">
                <a href="#products">Products</a>
                <ul class="dropdown-menu">
                    <li><a href="#products">Basic Plan</a></li>
                    <li><a href="#products">Professional Plan</a></li>
                    <li><a href="#products">Enterprise Plan</a></li>
                </ul>
            </li>
            <li id="messagesNavItem" style="display: none;">
                <a href="#messages" onClick="handleMessagesClick(event)">
                    Messages
                    <span id="messageNotification" class="notification-badge" style="display: none;"></span>
                </a>
            </li>
            <li><a href="#testimonials">Testimonials</a></li>
            <li><a href="#announcements"> Announcements</a></li>
            <li><a href="#community">Community</a></li>
            <li><a href="#live" class="live-link"> Live</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
        
        <!-- Auth Buttons -->
        <div class="auth-buttons" id="authButtons">
            <button class="btn-primary" onClick="showAuthModal('login')">Login</button>
        </div>
        
        <!-- User Menu (shown after login) -->
        <div class="user-menu" id="userMenu" style="display: none;">
            <div class="user-info">
                <div class="user-username" id="welcomeUser"></div>
                <div class="user-role" id="userRole"></div>
            </div>
            <button class="btn-secondary" onClick="showAdminDashboard()" id="adminBtn" style="display: none;">Admin Dashboard</button>
            <button class="btn-secondary" onClick="logout()">Logout</button>
        </div>
        
        <button class="mobile-menu-btn" id="mobileMenuBtn" onClick="toggleMenu()">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-content">
            <div class="hero-tagline">WHERE INNOVATION KNOWS NO BOUNDS</div>
            <h1>NEXT-GEN<br>TECHNOLOGY<br>SOLUTIONS</h1>
            <p>Transform your business with cutting-edge technology and innovative solutions. We deliver excellence in software development, cloud solutions, and digital transformation.</p>
            <div class="hero-buttons">
                <a href="#" class="btn-primary" onClick="showAuthModal('login')">Login to View Services</a>
                <a href="#contact" class="btn-secondary">Contact Us</a>
            </div>
        </div>

        <div class="hero-visual">
            <div class="circle-container">
                <div class="circle circle-outer"></div>
                <div class="central-icon"></div>
            </div>
        </div>
    </section>

    <!-- Announcements Section -->
    <section class="announcements" id="announcements">
        <div class="announcements-container">
            <div class="section-header">
                <div class="section-tag">Latest Updates</div>
                <h2 class="section-title"> Latest Announcements</h2>
                <p class="section-description">
                    Stay updated with the latest news, updates, and important information from SYSTEM.LK.
                </p>
            </div>

            <div class="announcements-grid" id="announcementsGrid">
                <!-- Announcements will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section class="testimonials" id="testimonials">
        <div class="section-header">
            <div class="section-tag">What Our Clients Say</div>
            <h2 class="section-title">Client Testimonials</h2>
            <p class="section-description">
                Hear from businesses and individuals who have transformed their operations with our technology solutions.
            </p>
        </div>

        <div class="testimonials-slider">
            <div class="testimonial-card">
                <div class="testimonial-rating"></div>
                <div class="testimonial-content">
                    "SYSTEM.LK transformed our entire business operations. Their cloud solutions reduced our IT costs by 40% while improving performance dramatically."
                </div>
                <div class="testimonial-author">
                    <div class="author-avatar">JD</div>
                    <div class="author-info">
                        <h4>John Davis</h4>
                        <p>CTO, TechForward Inc.</p>
                    </div>
                </div>
            </div>

            <div class="testimonial-card">
                <div class="testimonial-rating"></div>
                <div class="testimonial-content">
                    "The cybersecurity implementation was flawless. Our systems are now more secure than ever, and their 24/7 support is absolutely outstanding."
                </div>
                <div class="testimonial-author">
                    <div class="author-avatar">SM</div>
                    <div class="author-info">
                        <h4>Sarah Miller</h4>
                        <p>Security Director, Global Bank</p>
                    </div>
                </div>
            </div>

            <div class="testimonial-card">
                <div class="testimonial-rating"></div>
                <div class="testimonial-content">
                    "Their AI solutions helped us automate critical processes, saving hundreds of hours monthly. The team is professional and highly skilled."
                </div>
                <div class="testimonial-author">
                    <div class="author-avatar">RK</div>
                    <div class="author-info">
                        <h4>Robert Kim</h4>
                        <p>CEO, DataFlow Analytics</p>
                    </div>
                </div>
            </div>

            <div class="testimonial-card">
                <div class="testimonial-rating"></div>
                <div class="testimonial-content">
                    "The software development team delivered our project ahead of schedule with exceptional quality. Their attention to detail is remarkable."
                </div>
                <div class="testimonial-author">
                    <div class="author-avatar">AW</div>
                    <div class="author-info">
                        <h4>Amanda Wilson</h4>
                        <p>Product Manager, InnovateCorp</p>
                    </div>
                </div>
            </div>

            <div class="testimonial-card">
                <div class="testimonial-rating"></div>
                <div class="testimonial-content">
                    "Excellent service and support! Their UI/UX design team created an interface that increased our conversion rate by 35% in just two months."
                </div>
                <div class="testimonial-author">
                    <div class="author-avatar">TP</div>
                    <div class="author-info">
                        <h4>Thomas Parker</h4>
                        <p>Marketing Director, E-Shop Pro</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section (Hidden for public users) -->
    <section class="services" id="services" style="display: none;">
        <div class="section-header">
            <div class="section-tag">Our Services</div>
            <h2 class="section-title">What We Offer</h2>
            <p class="section-description">
                Comprehensive technology solutions tailored to meet your business needs and drive digital transformation.
            </p>
        </div>

        <div class="services-grid">
            <div class="service-card">
                <div class="service-icon"></div>
                <h3>Software Development</h3>
                <p>Custom software solutions built with modern technologies. From web applications to enterprise systems, we create scalable and robust solutions tailored to your needs.</p>
            </div>

            <div class="service-card">
                <div class="service-icon"></div>
                <h3>Cloud Solutions</h3>
                <p>Migrate to the cloud with confidence. We provide comprehensive cloud architecture, migration strategies, and ongoing management for AWS, Azure, and Google Cloud.</p>
            </div>

            <div class="service-card">
                <div class="service-icon"></div>
                <h3>Cybersecurity</h3>
                <p>Protect your digital assets with our advanced security solutions. We ensure your systems are safe from threats through penetration testing, security audits, and compliance.</p>
            </div>

            <div class="service-card">
                <div class="service-icon"></div>
                <h3>AI & Machine Learning</h3>
                <p>Harness the power of artificial intelligence to automate processes and gain valuable insights. We build intelligent systems that learn and adapt to your business.</p>
            </div>

            <div class="service-card">
                <div class="service-icon"></div>
                <h3>Data Analytics</h3>
                <p>Turn data into actionable insights. Our analytics solutions help you make informed decisions through data visualization, business intelligence, and predictive analytics.</p>
            </div>

            <div class="service-card">
                <div class="service-icon"></div>
                <h3>UI/UX Design</h3>
                <p>Create stunning user experiences that engage and delight. We design interfaces that are beautiful, intuitive, and optimized for conversion and user satisfaction.</p>
            </div>
        </div>
    </section>

    <!-- Features Section (Hidden for public users) -->
    <section class="services" id="features" style="display: none; background: #0a0e17;">
        <div class="section-header">
            <div class="section-tag">Why Choose Us</div>
            <h2 class="section-title">Our Key Features</h2>
            <p class="section-description">
                We combine expertise, innovation, and dedication to deliver exceptional results for your business.
            </p>
        </div>

        <div class="services-grid">
            <div class="service-card">
                <div class="service-icon"></div>
                <h3>Fast Delivery</h3>
                <p>Agile development methodology ensures quick turnaround times without compromising quality.</p>
            </div>

            <div class="service-card">
                <div class="service-icon"></div>
                <h3>Precision & Quality</h3>
                <p>Every project undergoes rigorous testing to ensure the highest standards of quality and performance.</p>
            </div>

            <div class="service-card">
                <div class="service-icon"></div>
                <h3>Innovation First</h3>
                <p>We stay ahead of technology trends to provide cutting-edge solutions for your business.</p>
            </div>

            <div class="service-card">
                <div class="service-icon"></div>
                <h3>Secure & Reliable</h3>
                <p>Industry-standard security practices protect your data and ensure system reliability.</p>
            </div>

            <div class="service-card">
                <div class="service-icon"></div>
                <h3>Cost Effective</h3>
                <p>Competitive pricing with transparent costs and no hidden fees for all our services.</p>
            </div>

            <div class="service-card">
                <div class="service-icon"></div>
                <h3>24/7 Support</h3>
                <p>Round-the-clock technical support to keep your systems running smoothly at all times.</p>
            </div>
        </div>
    </section>

    <!-- Products/Pricing Section (Hidden for public users) -->
    <section class="services" id="products" style="display: none; background: linear-gradient(180deg, #0a0e17 0%, #151922 100%);">
        <div class="section-header">
            <div class="section-tag">Pricing Plans</div>
            <h2 class="section-title">Choose Your Plan</h2>
            <p class="section-description">
                Flexible pricing options to suit businesses of all sizes.
            </p>
        </div>

        <div class="services-grid">
            <div class="service-card">
                <div class="service-icon"></div>
                <h3>Basic Plan</h3>
                <p style="font-size: 32px; font-weight: bold; color: #c8ff00; margin: 20px 0;">$999<span style="font-size: 16px; color: #a0a0a0;">/month</span></p>
                <p>Perfect for startups and small businesses. Includes web development, cloud hosting, and standard support.</p>
            </div>

            <div class="service-card" style="border-color: #c8ff00; transform: scale(1.05);">
                <div class="service-icon"></div>
                <h3>Professional Plan</h3>
                <p style="font-size: 32px; font-weight: bold; color: #c8ff00; margin: 20px 0;">$2,499<span style="font-size: 16px; color: #a0a0a0;">/month</span></p>
                <p>Most popular! Advanced features, 24/7 priority support, security suite, and data analytics dashboard.</p>
            </div>

            <div class="service-card">
                <div class="service-icon"></div>
                <h3>Enterprise Plan</h3>
                <p style="font-size: 32px; font-weight: bold; color: #c8ff00; margin: 20px 0;">Custom</p>
                <p>Tailored solutions for large organizations. Dedicated account manager, AI/ML integration, and SLA guarantees.</p>
            </div>
        </div>
    </section>

    <!-- Messages Section -->
    <section class="contact" id="messages" style="background: #0a0e17;">
        <div class="section-header">
            <div class="section-tag">Get In Touch</div>
            <h2 class="section-title">Send Us a Message</h2>
            <p class="section-description">
                Have a question or want to discuss a project? We're here to help!
            </p>
        </div>

        <div id="messagesContainer">
            <!-- Messages interface will be loaded here dynamically -->
        </div>
    </section>

    <!-- Community Section -->
    <section class="about" id="community" style="background: linear-gradient(180deg, #0a0e17 0%, #151922 100%);">
        <div class="about-content">
            <div class="section-tag">Join Our Community</div>
            <h2>SYSTEM.LK Community</h2>
            <p>Connect with thousands of developers, entrepreneurs, and tech enthusiasts from around the world. Share knowledge, collaborate on projects, and grow together.</p>
            <p>Our community is a vibrant ecosystem where innovation meets collaboration. Get access to exclusive resources, participate in webinars, and network with industry experts.</p>
            <div class="hero-buttons" style="margin-top: 30px;">
                <a href="https://www.youtube.com/@systemlkr/community" target="_blank" class="btn-primary">Join Community</a>
                <a href="#live" class="btn-secondary">View Live Events</a>
            </div>
        </div>

        <div class="about-visual">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">5000+</div>
                    <div class="stat-label">Community Members</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">200+</div>
                    <div class="stat-label">Active Projects</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">50+</div>
                    <div class="stat-label">Events Per Year</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">24/7</div>
                    <div class="stat-label">Community Support</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Live & Events Section -->
    <section class="services" id="live" style="background: #0a0e17;">
        <div class="section-header">
            <div class="section-tag"> Live Now &  Upcoming Events</div>
            <h2 class="section-title">Live Updates & Upcoming Events</h2>
            <p class="section-description">
                Watch our latest live streams, tutorials, tech discussions, and stay updated with upcoming events.
            </p>
        </div>

        <div style="max-width: 900px; margin: 60px auto;">
            <!-- Live Stream -->
            <div style="background: rgba(255, 255, 255, 0.02); padding: 20px; border-radius: 20px; border: 1px solid rgba(200, 255, 0, 0.2); margin-bottom: 30px;">
                <h3 style="color: #c8ff00; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                    <span></span> Live Stream
                </h3>
                <iframe 
                    width="100%" 
                    height="500" 
                    src="https://www.youtube.com/embed/live_stream?channel=UCxOVl6s8kfreedk-WBKvOw&autoplay=0" 
                    frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                    allowfullscreen
                    style="border-radius: 15px;">
                </iframe>
            </div>
            
            <!-- Upcoming Events -->
            <div style="background: rgba(255, 255, 255, 0.02); padding: 30px; border-radius: 20px; border: 1px solid rgba(200, 255, 0, 0.2);">
                <h3 style="color: #c8ff00; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                    <span></span> Upcoming Events
                </h3>
                <div id="upcomingEvents" style="display: grid; gap: 15px;">
                    <!-- Events will be loaded here -->
                </div>
            </div>
            
            <div style="margin-top: 20px; text-align: center;">
                <a href="https://www.youtube.com/@systemlkr" target="_blank" style="display: inline-flex; align-items: center; gap: 10px; padding: 12px 30px; background: rgba(255, 0, 0, 0.1); border: 1px solid rgba(255, 0, 0, 0.3); border-radius: 25px; color: #ff0000; text-decoration: none; font-weight: 600; transition: all 0.3s;">
                    <span style="font-size: 20px;"></span> Visit YouTube Channel
                </a>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about" id="about">
        <div class="about-content">
            <div class="section-tag">About Us</div>
            <h2>Leading Technology Partner</h2>
            <p>At SYSTEM.LK, we are passionate about delivering innovative technology solutions that empower businesses to thrive in the digital age. Our team of expert professionals combines technical excellence with strategic thinking.</p>
            <p>With years of experience across various industries, we understand the unique challenges businesses face and provide tailored solutions that drive growth and efficiency.</p>
            <p>Our mission is to be your trusted technology partner, providing solutions that are not just effective today, but scalable and adaptable for tomorrow's challenges.</p>
        </div>

        <div class="about-visual">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">500+</div>
                    <div class="stat-label">Projects Completed</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">150+</div>
                    <div class="stat-label">Happy Clients</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">50+</div>
                    <div class="stat-label">Team Members</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">24/7</div>
                    <div class="stat-label">Support Available</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact" id="contact">
        <div class="section-header">
            <div class="section-tag">Get In Touch</div>
            <h2 class="section-title">Contact Us</h2>
            <p class="section-description">
                Ready to start your next project? Let's discuss how we can help you achieve your goals.
            </p>
        </div>

        <div class="contact-container">
            <div class="contact-info">
                <div class="contact-item">
                    <div class="contact-icon"></div>
                    <div class="contact-details">
                        <h4>Our Location</h4>
                        <p>123 Tech Street, Digital City<br>Sri Lanka, 10000</p>
                    </div>
                </div>

                <div class="contact-item">
                    <div class="contact-icon"></div>
                    <div class="contact-details">
                        <h4>Email Address</h4>
                        <p>opensystemlk@gmail.com<br>support@system.lk</p>
                    </div>
                </div>

                <div class="contact-item">
                    <div class="contact-icon"></div>
                    <div class="contact-details">
                        <h4>Phone Number</h4>
                        <p>+94 11 234 5678<br>+94 77 123 4567</p>
                    </div>
                </div>

                <div class="contact-item">
                    <div class="contact-icon"></div>
                    <div class="contact-details">
                        <h4>Business Hours</h4>
                        <p>Mon - Fri: 9:00 AM - 6:00 PM<br>24/7 Support Available</p>
                    </div>
                </div>
            </div>

            <div class="contact-form" id="contactForm">
                <div class="form-group">
                    <label>Your Name</label>
                    <input type="text" id="contactName" required placeholder="Enter your full name">
                </div>

                <div class="form-group">
                    <label>Email Address</label>
                    <input type="email" id="contactEmail" required placeholder="Enter your email">
                </div>

                <div class="form-group">
                    <label>Subject</label>
                    <input type="text" id="contactSubject" required placeholder="What is this about?">
                </div>

                <div class="form-group">
                    <label>Your Message</label>
                    <textarea id="contactMessage" required placeholder="Tell us more about your project..."></textarea>
                </div>

                <button type="button" class="submit-btn" onClick="sendContactForm()">Send Message</button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>SYSTEM.LK</h3>
                <p>Leading technology solutions provider, delivering innovation and excellence in software development, cloud solutions, and digital transformation.</p>
                <div class="social-links">
                    <a href="https://facebook.com/system.lkr" target="_blank" class="facebook-btn">
                        <svg viewBox="0 0 24 24">
                            <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                        </svg>
                    </a>
                    <a href="https://instagram.com/system.lk" target="_blank" class="instagram-btn">
                        <svg viewBox="0 0 24 24">
                            <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                        </svg>
                    </a>
                    <a href="https://tiktok.com/@system.lk" target="_blank" class="tiktok-btn">
                        <svg viewBox="0 0 24 24">
                            <path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"/>
                        </svg>
                    </a>
                    <a href="https://twitter.com/System_lk" target="_blank" class="twitter-btn">
                        <svg viewBox="0 0 24 24">
                            <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
                        </svg>
                    </a>
                    <a href="https://youtube.com/@systemlkr" target="_blank" class="youtube-btn">
                        <svg viewBox="0 0 24 24">
                            <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                        </svg>
                    </a>
                    <a href="mailto:opensystemlk@gmail.com" class="email-btn">
                        <svg viewBox="0 0 24 24">
                            <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
                        </svg>
                    </a>
                </div>
            </div>

            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul class="footer-links">
                    <li><a href="#home">Home</a></li>
                    <li><a href="#announcements">Announcements</a></li>
                    <li><a href="#testimonials">Testimonials</a></li>
                    <li><a href="#community">Community</a></li>
                    <li><a href="#live">Live & Events</a></li>
                    <li><a href="#about">About Us</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>Public Services</h3>
                <ul class="footer-links">
                    <li><a href="#testimonials">Client Reviews</a></li>
                    <li><a href="#announcements">Latest News</a></li>
                    <li><a href="#community">Community Forum</a></li>
                    <li><a href="#live">Live Tutorials</a></li>
                    <li><a href="#contact">Technical Support</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>Support</h3>
                <ul class="footer-links">
                    <li><a href="#" onClick="showSupport()">Help Center</a></li>
                    <li><a href="#" onClick="showSupport()">Privacy Policy</a></li>
                    <li><a href="#" onClick="showSupport()">Terms of Service</a></li>
                    <li><a href="#contact">Contact Support</a></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; 2026 SYSTEM.LK. All rights reserved. Built with innovation and passion.</p>
        </div>
    </footer>

    <!-- Scroll to Top Button -->
    <button class="scroll-top" id="scrollTop" onClick="scrollToTop()"></button>

    <script>
        // ====== FIREBASE CONFIGURATION ======
        const firebaseConfig = {
            apiKey: "AIzaSyB2_AVu9x-ne8qGgGnTmAF4YaEZVoTrXc0",
            authDomain: "system-lk.firebaseapp.com",
            databaseURL: "https://system-lk-default-rtdb.firebaseio.com",
            projectId: "system-lk",
            storageBucket: "system-lk.firebasestorage.app",
            messagingSenderId: "519868541261",
            appId: "1:519868541261:web:555f351efa7b419427af04",
            measurementId: "G-2YJD0TST4T"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const database = firebase.database();

        // ====== APPLICATION STATE ======
        let currentUser = null;
        let users = [];
        let messages = [];
        let chatSessions = [];
        let announcements = [];
        let events = [];
        let currentChatSession = null;
        let messageCheckInterval = null;
        let chatCheckInterval = null;

        // ====== INITIALIZATION ======
        document.addEventListener('DOMContentLoaded', function() {
            // Hide page loader after 1.5 seconds
            setTimeout(() => {
                const pageLoader = document.getElementById('pageLoader');
                if (pageLoader) {
                    pageLoader.classList.add('fade-out');
                    setTimeout(() => {
                        pageLoader.style.display = 'none';
                    }, 500);
                }
            }, 1500);

            initializeFirebaseAuth();
            initializeApp();
            initializeNetworkAnimation();
            startMessageNotificationCheck();
            startChatNotificationCheck();
            loadAnnouncements();
            loadUpcomingEvents();
            
            // Check for existing chat session
            const storedChat = localStorage.getItem('systemlk_current_chat');
            if (storedChat) {
                currentChatSession = JSON.parse(storedChat);
                updateChatNotification();
            }
        });

        // ====== FIREBASE AUTHENTICATION ======
        function initializeFirebaseAuth() {
            // Listen for auth state changes
            auth.onAuthStateChanged((user) => {
                if (user) {
                    // User is signed in
                    currentUser = {
                        id: user.uid,
                        email: user.email,
                        username: user.displayName || user.email.split('@')[0],
                        role: 'user', // Default role
                        country: '',
                        createdAt: user.metadata.creationTime,
                        lastLogin: user.metadata.lastSignInTime
                    };
                    
                    // Get user data from database
                    database.ref('users/' + user.uid).once('value').then((snapshot) => {
                        if (snapshot.exists()) {
                            const userData = snapshot.val();
                            currentUser = { ...currentUser, ...userData };
                        } else {
                            // Create new user in database
                            createUserInDatabase(user);
                        }
                        updateUIForUser();
                    });
                    
                    showAlert('Welcome back to SYSTEM.LK!', 'success');
                } else {
                    // User is signed out
                    currentUser = null;
                    updateUIForUser();
                }
            });
        }

        function createUserInDatabase(firebaseUser) {
            const userData = {
                username: firebaseUser.displayName || firebaseUser.email.split('@')[0],
                email: firebaseUser.email,
                role: 'user',
                country: localStorage.getItem('user_country') || 'Unknown',
                createdAt: firebaseUser.metadata.creationTime,
                lastLogin: firebaseUser.metadata.lastSignInTime,
                isActive: true
            };
            
            database.ref('users/' + firebaseUser.uid).set(userData);
            currentUser = { id: firebaseUser.uid, ...userData };
        }

        // ====== AUTHENTICATION FUNCTIONS ======
        function login(email, password) {
            showPageLoader();
            auth.signInWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    hidePageLoader();
                    document.getElementById('authModal').style.display = 'none';
                    document.getElementById('loginForm').reset();
                })
                .catch((error) => {
                    hidePageLoader();
                    const errorMessage = getFirebaseErrorMessage(error.code);
                    showAlert(errorMessage, 'error');
                });
        }

        function register(username, email, password, country) {
            showPageLoader();
            auth.createUserWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    // Store country in localStorage
                    localStorage.setItem('user_country', country);
                    
                    // Update user profile
                    return userCredential.user.updateProfile({
                        displayName: username
                    });
                })
                .then(() => {
                    hidePageLoader();
                    document.getElementById('authModal').style.display = 'none';
                    document.getElementById('registerForm').reset();
                    showAlert('Account created successfully! Welcome to SYSTEM.LK!', 'success');
                })
                .catch((error) => {
                    hidePageLoader();
                    const errorMessage = getFirebaseErrorMessage(error.code);
                    showAlert(errorMessage, 'error');
                });
        }

        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                auth.signOut().then(() => {
                    showAlert('Logged out successfully. Come back soon!', 'info');
                    currentUser = null;
                    updateUIForUser();
                    
                    // Stop notification check
                    stopMessageNotificationCheck();
                    stopChatNotificationCheck();
                    
                    // Reset messages section
                    if (window.location.hash === '#messages') {
                        updateMessagesSection();
                    }
                    
                    // Close chat if open
                    document.getElementById('liveChatModal').style.display = 'none';
                    currentChatSession = null;
                });
            }
        }

        function getFirebaseErrorMessage(errorCode) {
            const errorMessages = {
                'auth/email-already-in-use': 'Email already registered. Please use a different email.',
                'auth/invalid-email': 'Invalid email address.',
                'auth/weak-password': 'Password should be at least 6 characters.',
                'auth/user-not-found': 'No user found with this email.',
                'auth/wrong-password': 'Incorrect password.',
                'auth/too-many-requests': 'Too many attempts. Please try again later.'
            };
            return errorMessages[errorCode] || 'An error occurred. Please try again.';
        }

        // ====== DATABASE FUNCTIONS ======
        function loadUsers() {
            return database.ref('users').once('value').then((snapshot) => {
                const usersData = snapshot.val() || {};
                users = Object.keys(usersData).map(key => ({
                    id: key,
                    ...usersData[key]
                }));
                return users;
            });
        }

        function loadMessages() {
            return database.ref('messages').once('value').then((snapshot) => {
                const messagesData = snapshot.val() || {};
                messages = Object.keys(messagesData).map(key => ({
                    id: key,
                    ...messagesData[key]
                }));
                return messages;
            });
        }

        function saveMessage(message) {
            const newMessageRef = database.ref('messages').push();
            message.id = newMessageRef.key;
            return newMessageRef.set(message);
        }

        function loadAnnouncementsFromDB() {
            return database.ref('announcements').once('value').then((snapshot) => {
                const announcementsData = snapshot.val() || {};
                announcements = Object.keys(announcementsData).map(key => ({
                    id: key,
                    ...announcementsData[key]
                }));
                return announcements;
            });
        }

        function saveAnnouncement(announcement) {
            const newAnnouncementRef = database.ref('announcements').push();
            announcement.id = newAnnouncementRef.key;
            return newAnnouncementRef.set(announcement);
        }

        // ====== PAGE LOADER FUNCTIONS ======
        function showPageLoader() {
            const pageLoader = document.getElementById('pageLoader');
            if (pageLoader) {
                pageLoader.style.display = 'flex';
                pageLoader.classList.remove('fade-out');
            }
        }

        function hidePageLoader() {
            const pageLoader = document.getElementById('pageLoader');
            if (pageLoader) {
                pageLoader.classList.add('fade-out');
                setTimeout(() => {
                    pageLoader.style.display = 'none';
                }, 500);
            }
        }

        // ====== BEAUTIFUL ALERT SYSTEM ======
        function showAlert(message, type = 'info', title = 'SYSTEM.LK') {
            // Remove existing alerts
            document.querySelectorAll('.alert').forEach(alert => {
                alert.style.animation = 'fadeOut 0.4s ease';
                setTimeout(() => {
                    if (alert.parentNode) {
                        alert.parentNode.removeChild(alert);
                    }
                }, 400);
            });
            
            const alert = document.createElement('div');
            alert.className = `alert ${type}`;
            
            const icons = {
                success: '',
                error: '',
                info: '',
                warning: '',
                premium: ''
            };
            
            alert.innerHTML = `
                <div class="alert-content">
                    <div class="alert-icon">${icons[type] || icons.info}</div>
                    <div class="alert-message">
                        <div class="alert-title">
                            ${title}
                            <button class="alert-close" onclick="this.parentElement.parentElement.parentElement.style.animation='fadeOut 0.4s ease'; setTimeout(() => this.parentElement.parentElement.parentElement.remove(), 400)"></button>
                        </div>
                        ${message}
                    </div>
                </div>
            `;
            
            document.body.appendChild(alert);
            
            // Auto-remove after 6 seconds
            setTimeout(() => {
                if (alert.parentNode) {
                    alert.style.animation = 'fadeOut 0.4s ease';
                    setTimeout(() => {
                        if (alert.parentNode) {
                            alert.parentNode.removeChild(alert);
                        }
                    }, 400);
                }
            }, 6000);
        }

        // ====== ANNOUNCEMENTS FUNCTIONS ======
        function loadAnnouncements() {
            loadAnnouncementsFromDB().then(() => {
                const container = document.getElementById('announcementsGrid');
                if (!container) return;
                
                // Sort by date (newest first)
                const sortedAnnouncements = [...announcements].sort((a, b) => 
                    new Date(b.date) - new Date(a.date)
                );
                
                if (sortedAnnouncements.length === 0) {
                    container.innerHTML = `
                        <div style="text-align: center; padding: 40px; color: #a0a0a0;">
                            <p>No announcements yet. Check back soon!</p>
                        </div>
                    `;
                    return;
                }
                
                const announcementsHTML = sortedAnnouncements.slice(0, 6).map(announcement => {
                    const typeColors = {
                        update: '#2196F3',
                        event: '#FF9800',
                        maintenance: '#f44336',
                        feature: '#4CAF50'
                    };
                    
                    const typeLabels = {
                        update: 'Update',
                        event: 'Event',
                        maintenance: 'Maintenance',
                        feature: 'New Feature'
                    };
                    
                    const date = new Date(announcement.date);
                    const now = new Date();
                    const isNew = (now - date) < 86400000 * 3; // 3 days
                    
                    return `
                        <div class="announcement-card">
                            ${isNew ? '<span class="announcement-badge">NEW</span>' : ''}
                            <div class="announcement-date">
                                ${date.toLocaleDateString()}  
                                <span style="color: ${typeColors[announcement.type] || '#c8ff00'}">
                                    ${typeLabels[announcement.type] || 'Announcement'}
                                </span>
                            </div>
                            <h3 class="announcement-title">${announcement.title}</h3>
                            <p class="announcement-content">${announcement.content}</p>
                            <div style="margin-top: 15px; color: #666; font-size: 12px;">
                                Posted by: ${announcement.author}
                            </div>
                        </div>
                    `;
                }).join('');
                
                container.innerHTML = announcementsHTML;
            });
        }

        function loadUpcomingEvents() {
            const container = document.getElementById('upcomingEvents');
            if (!container) return;
            
            // For now, using static events
            const upcomingEvents = [
                {
                    id: 1,
                    title: 'AI & Machine Learning Workshop',
                    date: new Date(Date.now() + 86400000 * 3).toISOString(),
                    time: '10:00 AM - 4:00 PM',
                    location: 'Online',
                    description: 'Hands-on workshop covering the latest AI and ML techniques.'
                },
                {
                    id: 2,
                    title: 'Cybersecurity Summit 2026',
                    date: new Date(Date.now() + 86400000 * 7).toISOString(),
                    time: '9:00 AM - 6:00 PM',
                    location: 'Colombo Convention Center',
                    description: 'Annual cybersecurity conference featuring industry experts.'
                }
            ];
            
            if (upcomingEvents.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 20px; color: #a0a0a0;">
                        <p>No upcoming events scheduled. Check back soon!</p>
                    </div>
                `;
                return;
            }
            
            const eventsHTML = upcomingEvents.map(event => {
                const eventDate = new Date(event.date);
                const daysUntil = Math.ceil((eventDate - new Date()) / (1000 * 60 * 60 * 24));
                
                return `
                    <div style="background: rgba(255, 255, 255, 0.02); padding: 15px; border-radius: 10px; border: 1px solid rgba(200, 255, 0, 0.1);">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 10px;">
                            <h4 style="color: #c8ff00; margin: 0;">${event.title}</h4>
                            <span style="background: rgba(200, 255, 0, 0.1); color: #c8ff00; padding: 4px 8px; border-radius: 12px; font-size: 12px;">
                                ${daysUntil}d
                            </span>
                        </div>
                        <div style="color: #a0a0a0; font-size: 14px; margin-bottom: 5px;">
                             ${eventDate.toLocaleDateString()}   ${event.time}
                        </div>
                        <div style="color: #a0a0a0; font-size: 13px; margin-bottom: 5px;">
                             ${event.location}
                        </div>
                        <p style="color: #a0a0a0; font-size: 13px; margin: 0;">${event.description}</p>
                    </div>
                `;
            }).join('');
            
            container.innerHTML = eventsHTML;
        }

        // ====== USER INTERFACE FUNCTIONS ======
        function initializeApp() {
            setupEventListeners();
            setupSmoothScroll();
        }

        function setupEventListeners() {
            // Close modals
            document.querySelectorAll('.close-modal').forEach(btn => {
                btn.addEventListener('click', function() {
                    this.closest('.modal').style.display = 'none';
                });
            });
            
            // Close modal when clicking outside
            window.addEventListener('click', function(event) {
                if (event.target === document.getElementById('authModal')) {
                    document.getElementById('authModal').style.display = 'none';
                }
                if (event.target === document.getElementById('adminModal')) {
                    document.getElementById('adminModal').style.display = 'none';
                }
            });
            
            // Auth tabs
            document.querySelectorAll('.auth-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabName = this.dataset.tab;
                    switchAuthTab(tabName);
                });
            });
            
            // Admin tabs
            document.querySelectorAll('.admin-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabName = this.dataset.tab;
                    switchAdminTab(tabName);
                });
            });
            
            // Login form
            document.getElementById('loginForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;
                login(email, password);
            });
            
            // Register form
            document.getElementById('registerForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const username = document.getElementById('regUsername').value;
                const email = document.getElementById('regEmail').value;
                const password = document.getElementById('regPassword').value;
                const country = document.getElementById('regCountry').value;
                register(username, email, password, country);
            });
            
            // Nav scroll effect
            window.addEventListener('scroll', handleNavScroll);
        }

        function updateUIForUser() {
            const authButtons = document.getElementById('authButtons');
            const userMenu = document.getElementById('userMenu');
            const welcomeUser = document.getElementById('welcomeUser');
            const userRole = document.getElementById('userRole');
            const adminBtn = document.getElementById('adminBtn');
            
            // Navigation items
            const featuresNavItem = document.getElementById('featuresNavItem');
            const servicesNavItem = document.getElementById('servicesNavItem');
            const productsNavItem = document.getElementById('productsNavItem');
            const messagesNavItem = document.getElementById('messagesNavItem');
            
            // Sections
            const featuresSection = document.getElementById('features');
            const servicesSection = document.getElementById('services');
            const productsSection = document.getElementById('products');
            
            if (currentUser) {
                // Show user menu, hide auth buttons
                authButtons.style.display = 'none';
                userMenu.style.display = 'flex';
                welcomeUser.textContent = currentUser.username;
                userRole.textContent = currentUser.role === 'admin' ? 'Administrator' : 'User';
                
                // Show features, services, products for logged in users
                featuresNavItem.style.display = 'list-item';
                servicesNavItem.style.display = 'list-item';
                productsNavItem.style.display = 'list-item';
                messagesNavItem.style.display = 'list-item';
                
                // Show sections
                featuresSection.style.display = 'block';
                servicesSection.style.display = 'block';
                productsSection.style.display = 'block';
                
                // Show admin button for admins only
                if (currentUser.role === 'admin') {
                    adminBtn.style.display = 'inline-block';
                } else {
                    adminBtn.style.display = 'none';
                }
            } else {
                // Show auth buttons, hide user menu
                authButtons.style.display = 'flex';
                userMenu.style.display = 'none';
                adminBtn.style.display = 'none';
                
                // Hide features, services, products for public users
                featuresNavItem.style.display = 'none';
                servicesNavItem.style.display = 'none';
                productsNavItem.style.display = 'none';
                messagesNavItem.style.display = 'none';
                
                // Hide sections
                featuresSection.style.display = 'none';
                servicesSection.style.display = 'none';
                productsSection.style.display = 'none';
            }
            
            updateMessagesSection();
            updateHeroButtons();
        }

        function updateHeroButtons() {
            const heroButtons = document.querySelector('.hero-buttons');
            if (currentUser) {
                heroButtons.innerHTML = `
                    <a href="#services" class="btn-primary">Explore Services</a>
                    <a href="#contact" class="btn-secondary">Contact Us</a>
                `;
            } else {
                heroButtons.innerHTML = `
                    <a href="#" class="btn-primary" onclick="showAuthModal('login')">Login to View Services</a>
                    <a href="#contact" class="btn-secondary">Contact Us</a>
                `;
            }
        }

        // ====== MODAL FUNCTIONS ======
        function showAuthModal(tab = 'login') {
            const modal = document.getElementById('authModal');
            modal.style.display = 'block';
            switchAuthTab(tab);
        }

        function switchAuthTab(tabName) {
            document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.auth-form').forEach(f => f.classList.remove('active'));
            
            document.querySelector(`.auth-tab[data-tab="${tabName}"]`).classList.add('active');
            document.getElementById(`${tabName}Form`).classList.add('active');
        }

        // ====== ADMIN DASHBOARD FUNCTIONS ======
        function showAdminDashboard() {
            if (!currentUser || currentUser.role !== 'admin') {
                showAlert('Admin access required. Please login as administrator.', 'error');
                return;
            }
            
            const modal = document.getElementById('adminModal');
            modal.style.display = 'block';
            switchAdminTab('users');
            loadAdminUsers();
        }

        function switchAdminTab(tabName) {
            document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.admin-tab-content').forEach(c => c.classList.remove('active'));
            
            document.querySelector(`.admin-tab[data-tab="${tabName}"]`).classList.add('active');
            document.getElementById(`${tabName}Tab`).classList.add('active');
        }

        function loadAdminUsers() {
            loadUsers().then(() => {
                const container = document.getElementById('usersList');
                const filteredUsers = users.filter(u => u.id !== currentUser.id);
                
                if (filteredUsers.length === 0) {
                    container.innerHTML = '<p>No users found.</p>';
                    return;
                }
                
                const usersHTML = filteredUsers.map(user => `
                    <div class="user-card">
                        <div class="user-header">
                            <div>
                                <h4>${user.username}</h4>
                                <small>${user.email}  ${user.country}  ${user.role}  Joined: ${new Date(user.createdAt).toLocaleDateString()}</small>
                            </div>
                            <div class="user-actions">
                                <button onclick="editUser('${user.id}')" class="action-btn edit-btn">Edit</button>
                                <button onclick="deleteUser('${user.id}')" class="action-btn delete-btn">Delete</button>
                            </div>
                        </div>
                    </div>
                `).join('');
                
                container.innerHTML = usersHTML;
            });
        }

        // ====== MESSAGE NOTIFICATION FUNCTIONS ======
        function updateMessageNotifications() {
            if (!currentUser) return;
            
            loadMessages().then(() => {
                const unreadCount = messages.filter(msg => 
                    msg.receiverId === currentUser.id && 
                    !msg.isRead
                ).length;
                
                const navNotification = document.getElementById('messageNotification');
                
                if (unreadCount > 0) {
                    navNotification.textContent = unreadCount;
                    navNotification.style.display = 'flex';
                } else {
                    navNotification.style.display = 'none';
                }
            });
        }

        function startMessageNotificationCheck() {
            // Check for new messages every 30 seconds
            messageCheckInterval = setInterval(() => {
                if (currentUser) {
                    updateMessageNotifications();
                }
            }, 30000);
        }

        function stopMessageNotificationCheck() {
            if (messageCheckInterval) {
                clearInterval(messageCheckInterval);
                messageCheckInterval = null;
            }
        }

        // ====== CHAT NOTIFICATION FUNCTIONS ======
        function updateChatNotification() {
            // Implement chat notification logic
            // Similar to message notifications
        }

        function startChatNotificationCheck() {
            // Implement chat notification checking
        }

        function stopChatNotificationCheck() {
            if (chatCheckInterval) {
                clearInterval(chatCheckInterval);
                chatCheckInterval = null;
            }
        }

        // ====== MESSAGING SYSTEM ======
        function handleMessagesClick(e) {
            e.preventDefault();
            scrollToSection('#messages');
            setTimeout(() => {
                if (currentUser) {
                    showMessagesInterface();
                } else {
                    updateMessagesSection();
                }
            }, 500);
        }

        function updateMessagesSection() {
            const container = document.getElementById('messagesContainer');
            if (!container) return;
            
            if (currentUser) {
                showMessagesInterface();
            } else {
                container.innerHTML = `
                    <div style="max-width: 600px; margin: 60px auto 0;">
                        <form class="contact-form" id="publicMessageForm">
                            <div class="form-group">
                                <label>Your Name</label>
                                <input type="text" id="publicName" required placeholder="Enter your full name">
                            </div>
                            <div class="form-group">
                                <label>Email Address</label>
                                <input type="email" id="publicEmail" required placeholder="Enter your email">
                            </div>
                            <div class="form-group">
                                <label>Subject</label>
                                <input type="text" id="publicSubject" required placeholder="What is this about?">
                            </div>
                            <div class="form-group">
                                <label>Message</label>
                                <textarea id="publicContent" required placeholder="Type your message here..."></textarea>
                            </div>
                            <button type="button" onclick="sendPublicMessage()" class="submit-btn">Send Message</button>
                            <p style="margin-top: 20px; color: #c8ff00; text-align: center;">
                                <a href="#" onclick="showAuthModal('register')" style="color: #c8ff00;">Create Account</a> for full messaging features.
                            </p>
                        </form>
                    </div>
                `;
            }
        }

        function showMessagesInterface() {
            const container = document.getElementById('messagesContainer');
            
            container.innerHTML = `
                <div class="messages-interface">
                    <div class="messages-header">
                        <h3>Messages</h3>
                        <button class="btn-primary" onclick="showNewMessageForm()">New Message</button>
                    </div>
                    
                    <div class="messages-tabs">
                        <button class="message-tab active" onclick="loadInbox()">Inbox</button>
                        <button class="message-tab" onclick="loadSentMessages()">Sent</button>
                    </div>
                    
                    <div id="messagesList" class="messages-container">
                        Loading messages...
                    </div>
                </div>
            `;
            
            loadInbox();
        }

        function loadInbox() {
            if (!currentUser) return;
            
            loadMessages().then(() => {
                const userMessages = messages.filter(msg => 
                    msg.receiverId === currentUser.id
                ).sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
                
                displayMessages(userMessages, 'inbox');
            });
        }

        function loadSentMessages() {
            if (!currentUser) return;
            
            loadMessages().then(() => {
                const userMessages = messages.filter(msg => 
                    msg.senderId === currentUser.id
                ).sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
                
                displayMessages(userMessages, 'sent');
            });
        }

        function displayMessages(messageList, type) {
            const container = document.getElementById('messagesList');
            
            // Update active tab
            document.querySelectorAll('.message-tab').forEach(tab => tab.classList.remove('active'));
            const tabSelector = type === 'inbox' ? 'loadInbox' : 'loadSentMessages';
            document.querySelector(`.message-tab[onclick="${tabSelector}()"]`).classList.add('active');
            
            if (!messageList || messageList.length === 0) {
                container.innerHTML = `<p>No ${type} messages found.</p>`;
                return;
            }
            
            loadUsers().then(() => {
                const messagesHTML = messageList.map(msg => {
                    const otherUser = type === 'inbox' 
                        ? users.find(u => u.id === msg.senderId)
                        : users.find(u => u.id === msg.receiverId);
                    
                    return `
                        <div class="message-card">
                            <div class="message-header">
                                <div>
                                    <h4>${msg.subject} ${!msg.isRead && type === 'inbox' ? '<span style="color: #ff4444; font-size: 12px;">(NEW)</span>' : ''}</h4>
                                    <small>${type === 'inbox' ? 'From: ' + (otherUser ? otherUser.username : 'Public User') : 'To: ' + (otherUser ? otherUser.username : 'Unknown')}  ${new Date(msg.createdAt).toLocaleString()}</small>
                                </div>
                                <div class="message-actions">
                                    <button onclick="viewMessage('${msg.id}')" class="action-btn edit-btn">View</button>
                                    <button onclick="deleteMessage('${msg.id}')" class="action-btn delete-btn">Delete</button>
                                </div>
                            </div>
                            <p style="color: #a0a0a0; margin-bottom: 10px;">${msg.content.substring(0, 150)}${msg.content.length > 150 ? '...' : ''}</p>
                            ${msg.isRead ? '<span style="font-size: 12px; color: #00ff88;"> Read</span>' : '<span style="font-size: 12px; color: #c8ff00;"> Unread</span>'}
                        </div>
                    `;
                }).join('');
                
                container.innerHTML = messagesHTML;
            });
        }

        function showNewMessageForm() {
            if (!currentUser) {
                showAlert('Please login to send messages', 'error');
                return;
            }
            
            loadUsers().then(() => {
                // Show all users except current user
                const otherUsers = users.filter(u => u.id !== currentUser.id);
                
                let usersOptions = '<option value="">Select recipient</option>';
                usersOptions += otherUsers.map(user => 
                    `<option value="${user.id}">${user.username} (${user.country})</option>`
                ).join('');
                
                const container = document.getElementById('messagesList');
                container.innerHTML = `
                    <div class="new-message-form">
                        <h3>New Message</h3>
                        <div class="form-group">
                            <label>To</label>
                            <select id="messageTo" class="form-control" required>
                                ${usersOptions}
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Subject</label>
                            <input type="text" id="messageSubject" placeholder="Subject" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label>Message</label>
                            <textarea id="messageContent" placeholder="Your message..." rows="6" class="form-control" required></textarea>
                        </div>
                        <div class="form-actions">
                            <button onclick="sendNewMessage()" class="btn-primary">Send Message</button>
                            <button onclick="loadInbox()" class="btn-secondary">Cancel</button>
                        </div>
                    </div>
                `;
            });
        }

        function sendNewMessage() {
            if (!currentUser) {
                showAlert('Please login to send messages', 'error');
                return;
            }
            
            const receiverId = document.getElementById('messageTo').value;
            const subject = document.getElementById('messageSubject').value;
            const content = document.getElementById('messageContent').value;
            
            if (!receiverId || !subject.trim() || !content.trim()) {
                showAlert('Please fill all fields', 'error');
                return;
            }
            
            const newMessage = {
                senderId: currentUser.id,
                receiverId: receiverId,
                subject: subject,
                content: content,
                isRead: false,
                createdAt: new Date().toISOString(),
                parentId: null
            };
            
            saveMessage(newMessage).then(() => {
                showAlert('Message sent successfully!', 'success');
                loadInbox();
            }).catch(error => {
                showAlert('Failed to send message: ' + error.message, 'error');
            });
        }

        function sendPublicMessage() {
            const name = document.getElementById('publicName').value;
            const email = document.getElementById('publicEmail').value;
            const subject = document.getElementById('publicSubject').value;
            const content = document.getElementById('publicContent').value;
            
            if (!name || !email || !subject || !content) {
                showAlert('Please fill all fields', 'error');
                return;
            }
            
            loadUsers().then(() => {
                // Find admin user
                const admin = users.find(u => u.role === 'admin');
                if (!admin) {
                    showAlert('Cannot send message at this time', 'error');
                    return;
                }
                
                const messageContent = `From: ${name} (${email})\n\n${content}`;
                
                const newMessage = {
                    senderId: null, // Public user
                    senderName: name,
                    senderEmail: email,
                    receiverId: admin.id,
                    subject: subject,
                    content: messageContent,
                    isRead: false,
                    createdAt: new Date().toISOString(),
                    parentId: null
                };
                
                saveMessage(newMessage).then(() => {
                    showAlert('Message sent successfully! We will contact you soon.', 'success');
                    
                    // Clear form
                    document.getElementById('publicName').value = '';
                    document.getElementById('publicEmail').value = '';
                    document.getElementById('publicSubject').value = '';
                    document.getElementById('publicContent').value = '';
                }).catch(error => {
                    showAlert('Failed to send message: ' + error.message, 'error');
                });
            });
        }

        function sendContactForm() {
            const name = document.getElementById('contactName').value;
            const email = document.getElementById('contactEmail').value;
            const subject = document.getElementById('contactSubject').value;
            const content = document.getElementById('contactMessage').value;
            
            if (!name || !email || !subject || !content) {
                showAlert('Please fill all fields', 'error');
                return;
            }
            
            loadUsers().then(() => {
                // Find admin user
                const admin = users.find(u => u.role === 'admin');
                if (!admin) {
                    showAlert('Cannot send message at this time', 'error');
                    return;
                }
                
                const messageContent = `From contact form:\nName: ${name}\nEmail: ${email}\n\n${content}`;
                
                const newMessage = {
                    senderId: currentUser ? currentUser.id : null,
                    senderName: currentUser ? currentUser.username : name,
                    senderEmail: currentUser ? currentUser.email : email,
                    receiverId: admin.id,
                    subject: subject,
                    content: messageContent,
                    isRead: false,
                    createdAt: new Date().toISOString(),
                    parentId: null
                };
                
                saveMessage(newMessage).then(() => {
                    showAlert('Message sent successfully!', 'success');
                    
                    // Clear form
                    document.getElementById('contactName').value = '';
                    document.getElementById('contactEmail').value = '';
                    document.getElementById('contactSubject').value = '';
                    document.getElementById('contactMessage').value = '';
                }).catch(error => {
                    showAlert('Failed to send message: ' + error.message, 'error');
                });
            });
        }

        // ====== LIVE CHAT FUNCTIONS ======
        function toggleLiveChat() {
            const chatModal = document.getElementById('liveChatModal');
            
            if (chatModal.style.display === 'block') {
                chatModal.style.display = 'none';
            } else {
                chatModal.style.display = 'block';
                updateChatUserInfo();
            }
        }

        function closeLiveChat() {
            document.getElementById('liveChatModal').style.display = 'none';
        }

        function updateChatUserInfo() {
            const chatUserInfo = document.getElementById('chatUserInfo');
            
            if (currentUser) {
                chatUserInfo.innerHTML = `Logged in as: ${currentUser.username} (${currentUser.country})`;
            } else {
                chatUserInfo.innerHTML = 'Guest User - Please login for better support';
            }
        }

        // ====== UTILITY FUNCTIONS ======
        function showSupport() {
            showAlert('Please contact support@system.lk for assistance', 'info');
        }

        function toggleMenu() {
            const navLinks = document.getElementById('navLinks');
            const menuBtn = document.getElementById('mobileMenuBtn');
            
            navLinks.classList.toggle('active');
            menuBtn.classList.toggle('active');
        }

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        function scrollToSection(sectionId) {
            const section = document.querySelector(sectionId);
            if (section) {
                section.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        }

        function setupSmoothScroll() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    const href = this.getAttribute('href');
                    if (href !== '#' && href !== '#messages') {
                        e.preventDefault();
                        const target = document.querySelector(href);
                        if (target) {
                            target.scrollIntoView({
                                behavior: 'smooth',
                                block: 'start'
                            });
                        }
                    }
                });
            });
        }

        function handleNavScroll() {
            const navbar = document.getElementById('navbar');
            const scrollTop = document.getElementById('scrollTop');
            
            if (window.scrollY > 100) {
                navbar.classList.add('scrolled');
                scrollTop.style.display = 'flex';
            } else {
                navbar.classList.remove('scrolled');
                scrollTop.style.display = 'none';
            }
        }

        // ====== NETWORK ANIMATION ======
        function initializeNetworkAnimation() {
            const canvas = document.getElementById('networkCanvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            const nodes = [];
            const nodeCount = 80;
            const maxDistance = 150;

            class Node {
                constructor() {
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height;
                    this.vx = (Math.random() - 0.5) * 0.5;
                    this.vy = (Math.random() - 0.5) * 0.5;
                    this.radius = Math.random() * 2 + 1;
                }

                update() {
                    this.x += this.vx;
                    this.y += this.vy;

                    if (this.x < 0 || this.x > canvas.width) this.vx *= -1;
                    if (this.y < 0 || this.y > canvas.height) this.vy *= -1;
                }

                draw() {
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                    ctx.fillStyle = 'rgba(0, 217, 255, 0.8)';
                    ctx.fill();
                    
                    ctx.shadowBlur = 10;
                    ctx.shadowColor = 'rgba(0, 217, 255, 0.8)';
                    ctx.fill();
                    ctx.shadowBlur = 0;
                }
            }

            // Create nodes
            for (let i = 0; i < nodeCount; i++) {
                nodes.push(new Node());
            }

            // Mouse interaction
            let mouse = { x: null, y: null };
            window.addEventListener('mousemove', (e) => {
                mouse.x = e.x;
                mouse.y = e.y;
            });

            // Animation loop
            function animate() {
                ctx.fillStyle = 'rgba(10, 14, 23, 0.1)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                nodes.forEach(node => {
                    node.update();
                    node.draw();
                });

                // Draw connections
                for (let i = 0; i < nodes.length; i++) {
                    for (let j = i + 1; j < nodes.length; j++) {
                        const dx = nodes[i].x - nodes[j].x;
                        const dy = nodes[i].y - nodes[j].y;
                        const distance = Math.sqrt(dx * dx + dy * dy);

                        if (distance < maxDistance) {
                            const opacity = (1 - distance / maxDistance) * 0.5;
                            ctx.beginPath();
                            ctx.moveTo(nodes[i].x, nodes[i].y);
                            ctx.lineTo(nodes[j].x, nodes[j].y);
                            ctx.strokeStyle = `rgba(0, 217, 255, ${opacity})`;
                            ctx.lineWidth = 0.5;
                            ctx.stroke();
                        }
                    }

                    // Mouse interaction
                    if (mouse.x !== null) {
                        const dx = nodes[i].x - mouse.x;
                        const dy = nodes[i].y - mouse.y;
                        const distance = Math.sqrt(dx * dx + dy * dy);

                        if (distance < 200) {
                            ctx.beginPath();
                            ctx.moveTo(nodes[i].x, nodes[i].y);
                            ctx.lineTo(mouse.x, mouse.y);
                            const opacity = (1 - distance / 200) * 0.8;
                            ctx.strokeStyle = `rgba(0, 255, 136, ${opacity})`;
                            ctx.lineWidth = 1;
                            ctx.stroke();
                        }
                    }
                }

                requestAnimationFrame(animate);
            }

            animate();

            // Resize handler
            window.addEventListener('resize', () => {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            });
        }

        // Close mobile menu when clicking a link
        document.addEventListener('click', function(e) {
            if (e.target.closest('.nav-links a') && window.innerWidth <= 968) {
                const navLinks = document.getElementById('navLinks');
                const menuBtn = document.getElementById('mobileMenuBtn');
                navLinks.classList.remove('active');
                menuBtn.classList.remove('active');
            }
        });
    </script>
</body>
</html>
